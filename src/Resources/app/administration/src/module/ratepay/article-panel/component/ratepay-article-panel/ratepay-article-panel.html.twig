<sw-card :title="$tc('ratepay.articlePanel.title')" class="ratepay-article-panel">
    <sw-tabs defaultItem="shippingCancel">
        <template slot="default" slot-scope="{ active }">
            <sw-tabs-item :activeTab="active" name="shippingCancel">
                {{ $t('ratepay.articlePanel.tab.shippingCancel') }}
            </sw-tabs-item>
            <sw-tabs-item :activeTab="active" name="rtn">
                {{ $t('ratepay.articlePanel.tab.return') }}
            </sw-tabs-item>
        </template>

        <template slot="content" slot-scope="{ active }">
            <template v-if="active === 'shippingCancel'">
                <div class="button-group">
                    <sw-button-group>
                        <sw-button
                            class="sw-button--small"
                            @click="onClickResetSelections"
                            :isLoading="loading.reload">
                            {{ $t('ratepay.articlePanel.action.setZero') }}
                        </sw-button>
                        <sw-button-process
                            class="sw-button--small"
                            :isLoading="loading.deliver"
                            :processSuccess="processSuccess"
                            @click="onClickButtonDeliver">
                            {{ $t('ratepay.articlePanel.action.deliverSelection') }}
                        </sw-button-process>
                        <sw-button-process
                            class="sw-button--small"
                            :isLoading="loading.cancel"
                            :processSuccess="processSuccess"
                            @click="onClickButtonCancel(false)">
                            {{ $t('ratepay.articlePanel.action.cancelSelection') }}
                        </sw-button-process>
                        <sw-button-process
                            class="sw-button--small"
                            :isLoading="loading.cancelWithStock"
                            :processSuccess="processSuccess"
                            @click="onClickButtonCancel(true)">
                            {{ $t('ratepay.articlePanel.action.cancelSelectionWithStock') }}
                        </sw-button-process>
                    </sw-button-group>
                    <sw-button-group>
                        <sw-button class="sw-button--small">{{ $t('ratepay.articlePanel.action.addCredit') }}
                        </sw-button>
                        <sw-button class="sw-button--small">{{ $t('ratepay.articlePanel.action.addDebit') }}</sw-button>
                    </sw-button-group>
                </div>
                <sw-data-grid
                    :dataSource="items"
                    :columns="columns"
                    :showSelection="false"
                    :showActions="false"
                    :showSettings="false"
                    :key="loading.list">
                    <template slot="column-quantity" slot-scope="{ item }">
                        <sw-select-field v-if="item.maxDelivery > 0" v-model="item.processDeliveryCancel" value="0">
                            <option value="0">0</option>
                            <option v-for="n in item.maxDelivery">{{ n }}</option>
                        </sw-select-field>
                        <span v-if="item.maxDelivery == 0">0</span>
                    </template>
                </sw-data-grid>
            </template>

            <template v-if="active === 'rtn'">
                <div class="button-group">
                    <sw-button-group>
                        <sw-button
                            class="sw-button--small"
                            @click="onClickResetSelections"
                            :isLoading="loading.reload">
                            {{ $t('ratepay.articlePanel.action.setZero') }}
                        </sw-button>
                        <sw-button-process
                            class="sw-button--small"
                            :isLoading="loading.rtn"
                            :processSuccess="processSuccess"
                            @click="onClickButtonReturn(false)">
                            {{ $t('ratepay.articlePanel.action.returnSelection') }}
                        </sw-button-process>
                        <sw-button-process
                            class="sw-button--small"
                            :isLoading="loading.rtnWithStock"
                            :processSuccess="processSuccess"
                            @click="onClickButtonReturn(true)">
                            {{ $t('ratepay.articlePanel.action.returnSelectionWithStock') }}
                        </sw-button-process>
                    </sw-button-group>
                </div>
                <sw-data-grid
                    :dataSource="items"
                    :columns="columns"
                    :showSelection="false"
                    :showActions="false"
                    :showSettings="false"
                    :key="loading.list"
                >
                    <template slot="column-quantity" slot-scope="{ item }">
                        <sw-select-field v-if="item.maxReturn > 0" v-model="item.processReturn" value="0">
                            <option value="0">0</option>
                            <option v-for="n in item.maxReturn">{{ n }}</option>
                        </sw-select-field>
                        <span v-if="item.maxReturn == 0">0</span>
                    </template>
                </sw-data-grid>
            </template>
        </template>
    </sw-tabs>
</sw-card>
