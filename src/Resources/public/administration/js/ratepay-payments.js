(this.webpackJsonp=this.webpackJsonp||[]).push([["ratepay-payments"],{"2DGv":function(e,t){e.exports='{% block ratepay_profile_config_detail %}\n    <sw-page class="ratepay-profile-config-detail">\n        <template slot="smart-bar-actions">\n            <sw-button :routerLink="{ name: \'ratepay.profileConfig.list\' }">\n                {{ $t(\'ratepay.profile_config.page.detail.cancelButtonText\') }}\n            </sw-button>\n\n            <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="processSuccess"\n                variant="primary"\n                @process-finish="saveFinish"\n                @click="onClickSave">\n                {{ $t(\'ratepay.profile_config.page.detail.saveButtonText\') }}\n            </sw-button-process>\n\n            <sw-button-process\n                v-if="entity && entity.isNew() === false && entity.status"\n                :key="entity.status"\n                :isLoading="isLoading"\n                :processSuccess="processSuccess"\n                variant="primary"\n                :disabled="disabledReloadButton"\n                @click="onClickReloadConfig">\n                {{ $t(\'ratepay.profile_config.page.detail.reloadConfig\') }}\n            </sw-button-process>\n        </template>\n\n        <template slot="content">\n            <sw-card-view>\n                <sw-card v-if="entity" :isLoading="isLoading">\n                    <sw-field v-on:change="lockReloadButton" :label="$t(\'ratepay.profile_config.global.labels.profile_id\')" v-model="entity.profileId" required></sw-field>\n                    <sw-password-field type="password" v-on:change="lockReloadButton" :label="$t(\'ratepay.profile_config.global.labels.security_code\')" v-model="entity.securityCode" required></sw-password-field>\n                    <sw-switch-field v-on:change="lockReloadButton" :label="$t(\'ratepay.profile_config.global.labels.sandbox\')" v-model="entity.sandbox"></sw-switch-field>\n                    <sw-switch-field v-on:change="lockReloadButton" :label="$t(\'ratepay.profile_config.global.labels.backend\')" v-model="entity.backend"></sw-switch-field>\n\n                    <sw-entity-single-select\n                        v-on:change="lockReloadButton"\n                        entity="sales_channel"\n                        :label="$t(\'ratepay.profile_config.global.labels.sales_channel\')"\n                        v-model="entity.salesChannelId"\n                        labelProperty="name"\n                        required\n                    >\n                    </sw-entity-single-select>\n\n                </sw-card>\n\n                <sw-card v-if="entity && entity.status" :isLoading="isLoading">\n                        <sw-tabs defaultItem="general">\n                            <template #default="{ active }">\n                                <sw-tabs-item :activeTab="active" name="general">\n                                    {{ $t(\'ratepay.profile_config.page.tabs.general.title\') }}\n                                </sw-tabs-item>\n\n                                <sw-tabs-item v-for="config in paymentConfigs" :activeTab="active" :name="config.paymentMethod" :key="config.id">\n                                    {{ $t(\'ratepay.profile_config.page.tabs.\' + config.paymentMethod + \'.title\') }}\n                                </sw-tabs-item>\n                            </template>\n\n                            <template #content="{ active }">\n                                <table style="text-align: left;" v-show="active === \'general\'">\n                                    <tbody>\n                                    <tr>\n                                        <th>{{ $t(\'ratepay.profile_config.page.tabs.general.table.label.countryCodeBilling\') }}</th>\n                                        <td>{{ entity.countryCodeBilling }}</td>\n                                    </tr>\n                                    <tr>\n                                        <th>{{ $t(\'ratepay.profile_config.page.tabs.general.table.label.countryCodeDelivery\') }}</th>\n                                        <td>{{ entity.countryCodeDelivery }}</td>\n                                    </tr>\n                                    <tr>\n                                        <th>{{ $t(\'ratepay.profile_config.page.tabs.general.table.label.currency\') }}</th>\n                                        <td>{{ entity.currency }}</td>\n                                    </tr>\n                                    <tr>\n                                        <th>{{ $t(\'ratepay.profile_config.page.tabs.general.table.label.errorDefault\') }}</th>\n                                        <td>{{ entity.errorDefault }}</td>\n                                    </tr>\n                                    <tr>\n                                        <th>{{ $t(\'ratepay.profile_config.page.tabs.general.table.label.updatedAt\') }}</th>\n                                        <td>{{ entity.updatedAt }}</td>\n                                    </tr>\n                                    </tbody>\n                                </table>\n\n                                <table style="text-align: left;"\n                                       v-for="config in paymentConfigs" v-show="active === config.paymentMethod">\n                                    <tbody>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profile_config.page.paymentConfig.table.label.allowB2b\') }}</th>\n                                            <td>{{ config.allowB2b ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profile_config.page.paymentConfig.table.label.limitMin\') }}</th>\n                                            <td>{{ config.limitMin }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profile_config.page.paymentConfig.table.label.limitMax\') }}</th>\n                                            <td>{{ config.limitMax }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profile_config.page.paymentConfig.table.label.limitMaxB2b\') }}</th>\n                                            <td>{{ config.limitMaxB2b }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profile_config.page.paymentConfig.table.label.allowDifferentAddresses\') }}</th>\n                                            <td>{{ config.allowDifferentAddresses ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr v-if="installmentConfigs[config.paymentMethod]">\n                                            <th colspan="2" style="padding-top: 15px; border-bottom: 1px solid #ccc;">{{ $t(\'ratepay.profile_config.page.paymentConfig.table.label.installmentHeading\') }}</th>\n                                        </tr>\n                                        <tr v-if="installmentConfigs[config.paymentMethod]">\n                                            <th>{{ $t(\'ratepay.profile_config.page.paymentConfig.table.label.installment.allowedMonths\') }}</th>\n                                            <td>{{ installmentConfigs[config.paymentMethod].allowedMonths.join(\', \') }}</td>\n                                        </tr>\n                                        <tr v-if="installmentConfigs[config.paymentMethod]">\n                                            <th>{{ $t(\'ratepay.profile_config.page.paymentConfig.table.label.installment.isBankTransferAllowed\') }}</th>\n                                            <td>{{ installmentConfigs[config.paymentMethod].isBankTransferAllowed ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr v-if="installmentConfigs[config.paymentMethod]">\n                                            <th>{{ $t(\'ratepay.profile_config.page.paymentConfig.table.label.installment.isDebitAllowed\') }}</th>\n                                            <td>{{ installmentConfigs[config.paymentMethod].isDebitAllowed ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr v-if="installmentConfigs[config.paymentMethod]">\n                                            <th>{{ $t(\'ratepay.profile_config.page.paymentConfig.table.label.installment.rateMin\') }}</th>\n                                            <td>{{ installmentConfigs[config.paymentMethod].rateMin }}</td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </template>\n                        </sw-tabs>\n\n\n\n                </sw-card>\n            </sw-card-view>\n        </template>\n    </sw-page>\n{% endblock %}\n'},"9mxx":function(e,t){e.exports='{% block ratepay_profile_config_list %}\n<sw-page class="ratepay-profile-config-list">\n    {% block ratepay_profile_config_list_smart_bar_actions %}\n    <template slot="smart-bar-actions">\n        <sw-button variant="primary" :routerLink="{ name: \'ratepay.profileConfig.create\' }">\n            {{ $t(\'ratepay.profile_config.page.list.createButton\') }}\n        </sw-button>\n    </template>\n    {% endblock %}\n\n    <template slot="content">\n        {% block ratepay_profile_config_list_content %}\n        <sw-entity-listing\n            v-if="entities"\n            :items="entities"\n            :repository="repository"\n            :showSelection="false"\n            :columns="columns"\n            detailRoute="ratepay.profileConfig.detail">\n\n            <template slot="column-status" slot-scope="{ item }">\n                <sw-color-badge color="red" v-if="item.status === false" ></sw-color-badge>\n                <span v-if="item.status === false">&nbsp;&nbsp;{{ $t(\'ratepay.profile_config.global.labels.active\') }}</span>\n                <sw-color-badge color="green" v-if="item.status === true"></sw-color-badge>\n                <span v-if="item.status === true">&nbsp;&nbsp;{{ $t(\'ratepay.profile_config.global.labels.inactive\') }}</span>\n            </template>\n\n            <template slot="column-backend" slot-scope="{ item }">\n                <sw-icon name="default-basic-checkmark-line" v-if="item.backend" ></sw-icon>\n            </template>\n        </sw-entity-listing>\n        {% endblock %}\n    </template>\n</sw-page>\n{% endblock %}\n'},CkOj:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("lSNA"),i=n.n(a),r=n("lO2t"),o=n("lYO9");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){var t=function(e){var t;if(r.a.isString(e))try{t=JSON.parse(e)}catch(e){return!1}else{if(!r.a.isObject(e)||r.a.isArray(e))return!1;t=e}return t}(e);if(!t)return null;if(!0===t.parsed||!function(e){return void 0!==e.data||void 0!==e.errors||void 0!==e.links||void 0!==e.meta}(t))return t;var n=function(e){var t={links:null,errors:null,data:null,associations:null,aggregations:null};if(e.errors)return t.errors=e.errors,t;var n=function(e){var t=new Map;if(!e||!e.length)return t;return e.forEach((function(e){var n="".concat(e.type,"-").concat(e.id);t.set(n,e)})),t}(e.included);if(r.a.isArray(e.data))t.data=e.data.map((function(e){var a=p(e,n);return Object(o.f)(a,"associationLinks")&&(t.associations=l({},t.associations,{},a.associationLinks),delete a.associationLinks),a}));else if(r.a.isObject(e.data)){var a=p(e.data,n);Object.prototype.hasOwnProperty.call(a,"associationLinks")&&(t.associations=l({},t.associations,{},a.associationLinks),delete a.associationLinks),t.data=a}else t.data=null;e.meta&&Object.keys(e.meta).length&&(t.meta=d(e.meta));e.links&&Object.keys(e.links).length&&(t.links=e.links);e.aggregations&&Object.keys(e.aggregations).length&&(t.aggregations=e.aggregations);return t}(t);return n.parsed=!0,n}function p(e,t){var n={id:e.id,type:e.type,links:e.links||{},meta:e.meta||{}};e.attributes&&Object.keys(e.attributes).length>0&&(n=l({},n,{},d(e.attributes)));if(e.relationships){var a=function(e,t){var n={},a={};return Object.keys(e).forEach((function(i){var o=e[i];if(o.links&&Object.keys(o.links).length&&(a[i]=o.links.related),o.data){var s=o.data;r.a.isArray(s)?n[i]=s.map((function(e){return g(e,t)})):r.a.isObject(s)?n[i]=g(s,t):n[i]=null}})),{mappedRelations:n,associationLinks:a}}(e.relationships,t);n=l({},n,{},a.mappedRelations,{},{associationLinks:a.associationLinks})}return n}function d(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n],i=n.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}));t[i]=a})),t}function g(e,t){var n="".concat(e.type,"-").concat(e.id);return t.has(n)?p(t.get(n),t):e}},GBwq:function(e,t){const{Component:n}=Shopware;n.extend("ratepay.profileConfig.create","ratepay.profileConfig.detail",{methods:{loadEntity(){return this.entity=this.repository.create(Shopware.Context.api),new Promise((e,t)=>{e(this.entity)})},onClickSave(){this.isLoading=!0,this.repository.save(this.entity,Shopware.Context.api).then(()=>{this.isLoading=!1,this.createNotificationSuccess({title:this.$tc("ratepay.profile_config.messages.save.success"),message:this.$tc("ratepay.profile_config.messages.save.success")}),this.$router.push({name:"ratepay.profileConfig.detail",params:{id:this.entity.id,reloadConfig:!0}})}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$t("swag-bundle.detail.errorTitle"),message:e})})}}})},K6gx:function(e){e.exports=JSON.parse('{"ratepay":{"profile_config":{"general":{"mainMenuItemGeneral":"RatePAY Profile Config","descriptionTextModule":""},"global":{"labels":{"profile_id":"Profile ID","security_code":"Security Code","sales_channel":"Sales Channel","sandbox":"Test-Mode","backend":"For admin orders","status":"Status","active":"Active","inactive":"Inactive"}},"page":{"list":{"createButton":"Add Profil"},"detail":{"cancelButtonText":"Cancel","saveButtonText":"Save","reloadConfig":"Reload config"},"tabs":{"general":{"title":"General","table":{"label":{"countryCodeBilling":"allowed countries (billing address)","countryCodeDelivery":"allowed countries (delivery address)","currency":"currency","errorDefault":"default error message","updatedAt":"last update"}}},"invoice":{"title":"Invoice"},"prepayment":{"title":"Prepayment"},"debit":{"title":"Debit"},"installment":{"title":"Installment"},"installment_zero_percent":{"title":"0% financing"}},"paymentConfig":{"table":{"label":{"allowB2b":"allow B2B","limitMin":"min. amount","limitMax":"max. amount","limitMaxB2b":"max. amount (B2B)","allowDifferentAddresses":"allow different addresses","installmentHeading":"Installment","installment":{"allowedMonths":"available months","isBankTransferAllowed":"is bank transfer allowed","isDebitAllowed":"is debit allowed","rateMin":"min. monthly rate"}}}}},"messages":{"save":{"success":"The profile configuration has been saved","error":"Error while saving the profile configuration"},"reload":{"success":"The profile configuration has been reloaded","error":"Error while reloading the profile configuration"}}}}}')},Nh7M:function(e){e.exports=JSON.parse('{"ratepay":{"profile_config":{"general":{"mainMenuItemGeneral":"Ratepay Profile Config","descriptionTextModule":""},"global":{"labels":{"profile_id":"Profile ID","security_code":"Sicherheitsschlüssel","sales_channel":"Sales Channel","sandbox":"Testmodus","backend":"Für Adminbestellungen","status":"Status","active":"Aktiv","inactive":"Inaktiv"}},"page":{"list":{"createButton":"Profil hinzufügen"},"detail":{"cancelButtonText":"Abbrechen","saveButtonText":"Speichern","reloadConfig":"Konfiguration neuladen"},"tabs":{"general":{"title":"Allgemein","table":{"label":{"countryCodeBilling":"erlaube Länder (Rechnungsadresse)","countryCodeDelivery":"erlaube Länder (Lieferadresse)","currency":"Währung","errorDefault":"Standardfehlermeldung","updatedAt":"Zuletzt aktualisiert"}}},"invoice":{"title":"Kauf auf Rechnung"},"prepayment":{"title":"Vorkasse"},"debit":{"title":"Lastschrift"},"installment":{"title":"Ratenzahlung"},"installment_zero_percent":{"title":"0% Finanzierung"}},"paymentConfig":{"table":{"label":{"allowB2b":"Erlaube B2B","limitMin":"Mindestbestellwert","limitMax":"Maximalbestellwert","limitMaxB2b":"Maximalbestellwert (B2B)","allowDifferentAddresses":"Erlaube unterschiedliche Adressen","installmentHeading":"Ratenzahlung","installment":{"allowedMonths":"Verfügbare Monate","isBankTransferAllowed":"Erlaube Überweisung","isDebitAllowed":"Erlaube Lastschrift","rateMin":"min. monatliche Rate"}}}}},"messages":{"save":{"success":"Die Profile-Konfiguration wurde erfolgreich gespeichert","error":"Beim Speichern der Profile-Konfiguration ist ein Fehler aufgetreten"},"reload":{"success":"Die Profile-Konfiguration wurde erfolgreich neu geladen","error":"Beim Neuladen der Profile-Konfiguration ist ein Fehler aufgetreten"}}}}}')},PUcN:function(e){e.exports=JSON.parse('{"ratepay":{"log_viewer":{"general":{"subMenuItemApiLogViewer":"Ratepay API-Logs","descriptionTextModule":""},"page":{"detail":{"cancelButtonText":"Back"}}},"api_log":{"global":{"labels":{"id":"Id","operation":"Operation","suboperation":"Suboperation","status":"Status","transactionId":"Transaction ID","firstname":"First name","lastname":"Last name","createdAt":"Created at","request":"Request","response":"Response","viewLog":"Request / Response"}},"modal":{"openTitle":"show request / response","request":{"heading":"Request"},"response":{"heading":"Response"}}}}}')},SwLI:function(e,t,n){"use strict";n.r(t);var a=n("lwsE"),i=n.n(a),r=n("W8MJ"),o=n.n(r),s=n("CkOj"),l=function(){function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/vnd.api+json";i()(this,e),this.httpClient=t,this.loginService=n,this.apiEndpoint=a,this.contentType=r}return o()(e,[{key:"getList",value:function(t){var n=t.page,a=void 0===n?1:n,i=t.limit,r=void 0===i?25:i,o=t.sortBy,s=t.sortDirection,l=void 0===s?"asc":s,c=t.sortings,p=t.queries,d=t.term,g=t.criteria,f=t.aggregations,u=t.associations,h=t.headers,y=t.versionId,m=t.ids,b=this.getBasicHeaders(h),v={page:a,limit:r};return c?v.sort=c:o&&o.length&&(v.sort=("asc"===l.toLowerCase()?"":"-")+o),m&&(v.ids=m.join("|")),d&&(v.term=d),g&&(v.filter=[g.getQuery()]),f&&(v.aggregations=f),u&&(v.associations=u),y&&(b=Object.assign(b,e.getVersionHeader(y))),p&&(v.query=p),v.term&&v.term.length||v.filter&&v.filter.length||v.aggregations||v.sort||v.queries||v.associations?this.httpClient.post("".concat(this.getApiBasePath(null,"search")),v,{headers:b}).then((function(t){return e.handleResponse(t)})):this.httpClient.get(this.getApiBasePath(),{params:v,headers:b}).then((function(t){return e.handleResponse(t)}))}},{key:"getById",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return Promise.reject(new Error("Missing required argument: id"));var i=n,r=this.getBasicHeaders(a);return this.httpClient.get(this.getApiBasePath(t),{params:i,headers:r}).then((function(t){return e.handleResponse(t)}))}},{key:"updateById",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!t)return Promise.reject(new Error("Missing required argument: id"));var r=a,o=this.getBasicHeaders(i);return this.httpClient.patch(this.getApiBasePath(t),n,{params:r,headers:o}).then((function(t){return e.handleResponse(t)}))}},{key:"deleteAssociation",value:function(e,t,n,a){if(!e||!n||!n)return Promise.reject(new Error("Missing required arguments."));var i=this.getBasicHeaders(a);return this.httpClient.delete("".concat(this.getApiBasePath(e),"/").concat(t,"/").concat(n),{headers:i}).then((function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(e)}))}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n,r=this.getBasicHeaders(a);return this.httpClient.post(this.getApiBasePath(),t,{params:i,headers:r}).then((function(t){return e.handleResponse(t)}))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return Promise.reject(new Error("Missing required argument: id"));var a=Object.assign({},t),i=this.getBasicHeaders(n);return this.httpClient.delete(this.getApiBasePath(e),{params:a,headers:i})}},{key:"clone",value:function(t){return t?this.httpClient.post("/_action/clone/".concat(this.apiEndpoint,"/").concat(t),null,{headers:this.getBasicHeaders()}).then((function(t){return e.handleResponse(t)})):Promise.reject(new Error("Missing required argument: id"))}},{key:"versionize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="/_action/version/".concat(this.apiEndpoint,"/").concat(e),i=Object.assign({},t),r=this.getBasicHeaders(n);return this.httpClient.post(a,{},{params:i,headers:r})}},{key:"mergeVersion",value:function(t,n,a,i){if(!t)return Promise.reject(new Error("Missing required argument: id"));if(!n)return Promise.reject(new Error("Missing required argument: versionId"));var r=Object.assign({},a),o=Object.assign(e.getVersionHeader(n),this.getBasicHeaders(i)),s="_action/version/merge/".concat(this.apiEndpoint,"/").concat(n);return this.httpClient.post(s,{},{params:r,headers:o})}},{key:"getApiBasePath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";return t&&t.length&&(n+="".concat(t,"/")),e&&e.length>0?"".concat(n).concat(this.apiEndpoint,"/").concat(e):"".concat(n).concat(this.apiEndpoint)}},{key:"getBasicHeaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={Accept:this.contentType,Authorization:"Bearer ".concat(this.loginService.getToken()),"Content-Type":"application/json"};return Object.assign({},t,e)}},{key:"apiEndpoint",get:function(){return this.endpoint},set:function(e){this.endpoint=e}},{key:"httpClient",get:function(){return this.client},set:function(e){this.client=e}},{key:"contentType",get:function(){return this.type},set:function(e){this.type=e}}],[{key:"handleResponse",value:function(t){if(null===t.data||void 0===t.data)return t;var n=t.data,a=t.headers;return a&&a["content-type"]&&"application/vnd.api+json"===a["content-type"]&&(n=e.parseJsonApiData(n)),n}},{key:"parseJsonApiData",value:function(e){return Object(s.a)(e)}},{key:"getVersionHeader",value:function(e){return{"sw-version-id":e}}}]),e}();t.default=l},UwOg:function(e,t){t.formatXml=function(e){var t="";e=e.replace(/(>)(<)(\/*)/g,"$1\r\n$2$3");var n=0;return e.split("\r\n").forEach((function(e,a){var i=0;e.match(/.+<\/\w[^>]*>$/)?i=0:e.match(/^<\/\w/)?0!=n&&(n-=1):i=e.match(/^<\w[^>]*[^\/]>.*$/)?1:0;for(var r="",o=0;o<n;o++)r+="  ";t+=r+e+"\r\n",n+=i})),t}},"Z4J+":function(e,t,n){},cKkm:function(e,t,n){"use strict";n.r(t);var a=n("9mxx"),i=n.n(a);const{Component:r}=Shopware,{Criteria:o}=Shopware.Data;r.register("ratepay.profileConfig.list",{template:i.a,inject:["repositoryFactory"],data:()=>({repository:null,entities:null}),metaInfo(){return{title:this.$createTitle()}},computed:{columns(){return[{property:"profileId",dataIndex:"profileId",label:this.$t("ratepay.profile_config.global.labels.profile_id"),routerLink:"ratepay.profileConfig.detail",allowResize:!0},{property:"salesChannel.name",dataIndex:"salesChannel.name",label:this.$t("ratepay.profile_config.global.labels.sales_channel"),allowResize:!0},{property:"backend",dataIndex:"backend",label:this.$t("ratepay.profile_config.global.labels.backend"),allowResize:!0},{property:"status",dataIndex:"status",label:this.$t("ratepay.profile_config.global.labels.status"),allowResize:!0}]}},created(){this.repository=this.repositoryFactory.create("ratepay_profile_config"),this.repository.search(new o,Shopware.Context.api).then(e=>{this.entities=e})}});var s=n("2DGv"),l=n.n(s);const{Component:c,Mixin:p}=Shopware,{Criteria:d}=Shopware.Data;c.register("ratepay.profileConfig.detail",{template:l.a,inject:{repositoryFactory:"repositoryFactory",profileConfigApiService:"ratepay-profile-config"},mixins:[p.getByName("notification")],metaInfo(){return{title:this.$createTitle()}},data(){return{entity:null,paymentConfigs:{},installmentConfigs:{},isLoading:!1,processSuccess:!1,repository:null,paymentConfigRepository:null,paymentConfigInstallmentRepository:null,disabledReloadButton:null===this.entity,currentTab:"general"}},created(){this.repository=this.repositoryFactory.create("ratepay_profile_config"),this.paymentConfigRepository=this.repositoryFactory.create("ratepay_profile_config_method"),this.paymentConfigInstallmentRepository=this.repositoryFactory.create("ratepay_profile_config_method_installment");let e=this.loadEntity();this.$route.params.reloadConfig&&e.then(()=>{this.onClickReloadConfig()})},methods:{lockReloadButton(){this.disabledReloadButton=!0},loadEntity(){var e=this;return e.paymentConfigs={},e.installmentConfigs={},this.repository.get(this.$route.params.id,Shopware.Context.api).then(t=>new Promise((n,a)=>{let i=new d;i.addFilter(d.equals("profileId",t.id)),this.paymentConfigRepository.search(i,Shopware.Context.api).then(a=>{let i={};return a.forEach(t=>{e.paymentConfigs[t.paymentMethod]=t,t.paymentMethod.indexOf("installment")>=0&&(i[t.id]=t.paymentMethod)}),new Promise(()=>{let a=new d;a.setIds(Object.keys(i)),this.paymentConfigInstallmentRepository.search(a,Shopware.Context.api).then(a=>(a.forEach(t=>e.installmentConfigs[i[t.id]]=t),new Promise(()=>{this.entity=t,n(e.entity)})))})})}))},onClickSave(){let e=this;this.isLoading=!0,this.repository.save(this.entity,Shopware.Context.api).then(()=>{e.loadEntity(),this.onClickReloadConfig(),this.createNotificationSuccess({title:this.$tc("ratepay.profile_config.messages.save.success"),message:this.$tc("ratepay.profile_config.messages.save.success")}),e.isLoading=!1,e.processSuccess=!0}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$t("ratepay.profile_config.messages.save.error"),message:e})})},saveFinish(){this.disabledReloadButton=!1,this.processSuccess=!1},onClickReloadConfig(){return this.profileConfigApiService.reloadConfig(this.entity.id).then(e=>{this.loadEntity();for(let[t,n]of Object.entries(e.success))this.createNotificationSuccess({title:t,message:this.$tc("ratepay.profile_config.messages.reload.success")});for(let[t,n]of Object.entries(e.error))this.createNotificationError({title:t,message:n});return this.$forceUpdate(),new Promise((e,t)=>{e()})})},switchTab(e){this.currentTab=e}}});n("GBwq");var g=n("SwLI");class f extends g.default{constructor(e,t){super(e,t,"ratepay/profile-configuration"),this.httpClient=e,this.loginService=t,this.name="ratepayConfigService"}reloadConfig(e){return this.httpClient.post(this.getApiBasePath()+"/reload-config/",{id:e},{headers:this.getBasicHeaders()}).then(e=>e.data)}}Shopware.Application.addServiceProvider("ratepay-profile-config",e=>{const t=Shopware.Application.getContainer("init");return new f(t.httpClient,e.loginService)});var u=n("Nh7M"),h=n("K6gx");const{Module:y}=Shopware;y.register("ratepay-profileConfig",{type:"plugin",name:"ProfileConfig",title:"ratepay.profile_config.general.mainMenuItemGeneral",description:"sw-property.general.descriptionTextModule",color:"#ff3d58",icon:"default-shopping-paper-bag-product",snippets:{"de-DE":u,"en-GB":h},routes:{list:{component:"ratepay.profileConfig.list",path:"list"},detail:{component:"ratepay.profileConfig.detail",path:"detail/:id",meta:{parentPath:"ratepay.profileConfig.list"}},create:{component:"ratepay.profileConfig.create",path:"create",meta:{parentPath:"ratepay.profileConfig.list"}}},navigation:[{id:"sw-ratepay",label:"ratepay.profile_config.general.mainMenuItemGeneral",color:"#ff3d58",path:"ratepay.profileConfig.list",icon:"default-shopping-paper-bag-product",position:100}]});var m=n("j9oo"),b=n.n(m),v=(n("s6Kv"),n("UwOg")),w=n.n(v);const{Component:C}=Shopware,{Criteria:k}=Shopware.Data;C.register("ratepay.logViewer.list",{template:b.a,inject:["repositoryFactory"],data:()=>({repository:null,entities:null,modalItem:null}),metaInfo(){return{title:this.$createTitle()}},computed:{columns(){return[{property:"createdAt",dataIndex:"createdAt",label:this.$t("ratepay.api_log.global.labels.createdAt"),allowResize:!0},{property:"operation",dataIndex:"operation",label:this.$t("ratepay.api_log.global.labels.operation"),allowResize:!0},{property:"suboperation",dataIndex:"suboperation",label:this.$t("ratepay.api_log.global.labels.suboperation"),allowResize:!0},{property:"transactionId",dataIndex:"transactionId",label:this.$t("ratepay.api_log.global.labels.transactionId"),allowResize:!0},{property:"status",dataIndex:"status",label:this.$t("ratepay.api_log.global.labels.status"),allowResize:!0},{property:"firstname",dataIndex:"firstname",label:this.$t("ratepay.api_log.global.labels.firstname"),allowResize:!0},{property:"lastname",dataIndex:"lastname",label:this.$t("ratepay.api_log.global.labels.lastname"),allowResize:!0},{property:"response",dataIndex:"response",label:this.$t("ratepay.api_log.global.labels.viewLog"),allowResize:!0}]}},created(){this.repository=this.repositoryFactory.create("ratepay_api_log");let e=new k;e.addSorting(k.sort("createdAt","DESC")),this.repository.search(e,Shopware.Context.api).then(e=>{this.entities=e})},methods:{formatXml:e=>w.a.formatXml(e)}});var _=n("pN8d"),O=n("PUcN");const{Module:B}=Shopware;B.register("ratepay-logViewer",{type:"plugin",name:"logViewer",title:"ratepay.log_viewer.general.subMenuItemApiLogViewer",description:"sw-property.general.descriptionTextModule",color:"#ff3d58",icon:"default-shopping-paper-bag-product",snippets:{"de-DE":_,"en-GB":O},routes:{list:{component:"ratepay.logViewer.list",path:"list"}},navigation:[{parent:"sw-ratepay",label:"ratepay.log_viewer.general.subMenuItemApiLogViewer",path:"ratepay.logViewer.list",position:10}]})},j9oo:function(e,t){e.exports='{% block ratepay_api_log_list %}\n<sw-page class="ratepay-log-viewer-list">\n    <template slot="content">\n        {% block ratepay_api_log_list_content %}\n            <sw-entity-listing\n                v-if="entities"\n                :items="entities"\n                :repository="repository"\n                :showSelection="false"\n                :columns="columns"\n                :showActions="false">\n\n                <template slot="column-response" slot-scope="{ item }">\n                    <sw-button @click="modalItem = item">\n                        {{ $t(\'ratepay.api_log.modal.openTitle\') }}\n                    </sw-button>\n                    <sw-modal :title="$t(\'ratepay.api_log.global.labels.viewLog\')" v-if="modalItem && modalItem.id === item.id" class="ratepay-xml-log-modal" @modal-close="modalItem = null">\n                        <div class="flex-container">\n                            <div>\n                                <span class="heading">{{ $t(\'ratepay.api_log.modal.request.heading\') }}</span>\n                                <pre>{{ formatXml(modalItem.request) }}</pre>\n                            </div>\n                            <div>\n                                <span class="heading">{{ $t(\'ratepay.api_log.modal.response.heading\') }}</span>\n                                <pre>{{ formatXml(modalItem.response) }}</pre>\n                            </div>\n                        </div>\n                    </sw-modal>\n                </template>\n            </sw-entity-listing>\n        {% endblock %}\n    </template>\n</sw-page>\n{% endblock %}\n'},lO2t:function(e,t,n){"use strict";n.d(t,"b",(function(){return B}));var a=n("GoyQ"),i=n.n(a),r=n("YO3V"),o=n.n(r),s=n("E+oP"),l=n.n(s),c=n("wAXd"),p=n.n(c),d=n("Z0cm"),g=n.n(d),f=n("lSCD"),u=n.n(f),h=n("YiAA"),y=n.n(h),m=n("4qC0"),b=n.n(m),v=n("Znm+"),w=n.n(v),C=n("Y+p1"),k=n.n(C),_=n("UB5X"),O=n.n(_);function B(e){return void 0===e}t.a={isObject:i.a,isPlainObject:o.a,isEmpty:l.a,isRegExp:p.a,isArray:g.a,isFunction:u.a,isDate:y.a,isString:b.a,isBoolean:w.a,isEqual:k.a,isNumber:O.a,isUndefined:B}},lYO9:function(e,t,n){"use strict";n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"f",(function(){return w})),n.d(t,"b",(function(){return C})),n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return _}));var a=n("lSNA"),i=n.n(a),r=n("QkVN"),o=n.n(r),s=n("BkRI"),l=n.n(s),c=n("mwIZ"),p=n.n(c),d=n("D1y2"),g=n.n(d),f=n("lO2t");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o.a,l.a,p.a,g.a;var y=o.a,m=l.a,b=p.a,v=g.a;function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.parse(JSON.stringify(e))}function k(e,t){return e===t?{}:f.a.isObject(e)&&f.a.isObject(t)?f.a.isDate(e)||f.a.isDate(t)?e.valueOf()===t.valueOf()?{}:t:Object.keys(t).reduce((function(n,a){if(!w(e,a))return h({},n,i()({},a,t[a]));if(f.a.isArray(t[a])){var r=_(e[a],t[a]);return Object.keys(r).length>0?h({},n,i()({},a,t[a])):n}if(f.a.isObject(t[a])){var o=k(e[a],t[a]);return!f.a.isObject(o)||Object.keys(o).length>0?h({},n,i()({},a,o)):n}return e[a]!==t[a]?h({},n,i()({},a,t[a])):n}),{}):t}function _(e,t){if(e===t)return[];if(!f.a.isArray(e)||!f.a.isArray(t))return t;if(e.length<=0&&t.length<=0)return[];if(e.length!==t.length)return t;if(!f.a.isObject(t[0]))return t.filter((function(t){return!e.includes(t)}));var n=[];return t.forEach((function(a,i){var r=k(e[i],t[i]);Object.keys(r).length>0&&n.push(t[i])})),n}},pN8d:function(e){e.exports=JSON.parse('{"ratepay":{"log_viewer":{"general":{"subMenuItemApiLogViewer":"Ratepay API-Logs","descriptionTextModule":""},"page":{"detail":{"cancelButtonText":"Zurück"}}},"api_log":{"global":{"labels":{"id":"Id","operation":"Operation","suboperation":"Suboperation","status":"Status","transactionId":"Transaktions ID","firstname":"Vorname","lastname":"Nachname","createdAt":"Erstellt am","request":"Anfrage","response":"Antwort","viewLog":"Anfrage / Antwort"}},"modal":{"openTitle":"Anfrage / Antwort anzeigen","request":{"heading":"Anfrage"},"response":{"heading":"Antwort"}}}}}')},s6Kv:function(e,t,n){var a=n("Z4J+");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("596a469e",a,!0,{})}},[["cKkm","runtime","vendors-node"]]]);