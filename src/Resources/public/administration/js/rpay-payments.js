(function(){var e={809:function(e){function t(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(function(a){var n=e[a];"object"!=typeof n||Object.isFrozen(n)||t(n)}),e}t.default=t;class a{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(e,...t){let a=Object.create(null);for(let t in e)a[t]=e[t];return t.forEach(function(e){for(let t in e)a[t]=e[t]}),a}let r=e=>!!e.kind;class s{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=n(e)}openNode(e){if(!r(e))return;let t=e.kind;e.sublanguage||(t=`${this.classPrefix}${t}`),this.span(t)}closeNode(e){r(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class l{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){let t={kind:e,children:[]};this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{l._collapse(e)}))}}class o extends l{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){let a=e.root;a.kind=t,a.sublanguage=!0,this.add(a)}toHTML(){return new s(this,this.options).value()}finalize(){return!0}}function d(e){return e?"string"==typeof e?e:e.source:null}let c=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,p="[a-zA-Z]\\w*",u="[a-zA-Z_]\\w*",h="\\b\\d+(\\.\\d+)?",g="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",m="\\b(0b[01]+)",f={begin:"\\\\[\\s\\S]",relevance:0},b={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},y=function(e,t,a={}){let n=i({className:"comment",begin:e,end:t,contains:[]},a);return n.contains.push(b),n.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),n},w=y("//","$"),v=y("/\\*","\\*/"),C=y("#","$");var x=Object.freeze({__proto__:null,MATCH_NOTHING_RE:/\b\B/,IDENT_RE:p,UNDERSCORE_IDENT_RE:u,NUMBER_RE:h,C_NUMBER_RE:g,BINARY_NUMBER_RE:m,RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{let t=/^#![ ]*\//;return e.binary&&(e.begin=function(...e){return e.map(e=>d(e)).join("")}(t,/.*\b/,e.binary,/\b.*/)),i({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:f,APOS_STRING_MODE:{className:"string",begin:"'",end:"'",illegal:"\\n",contains:[f]},QUOTE_STRING_MODE:{className:"string",begin:'"',end:'"',illegal:"\\n",contains:[f]},PHRASAL_WORDS_MODE:b,COMMENT:y,C_LINE_COMMENT_MODE:w,C_BLOCK_COMMENT_MODE:v,HASH_COMMENT_MODE:C,NUMBER_MODE:{className:"number",begin:h,relevance:0},C_NUMBER_MODE:{className:"number",begin:g,relevance:0},BINARY_NUMBER_MODE:{className:"number",begin:m,relevance:0},CSS_NUMBER_MODE:{className:"number",begin:h+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},REGEXP_MODE:{begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[f,{begin:/\[/,end:/\]/,relevance:0,contains:[f]}]}]},TITLE_MODE:{className:"title",begin:p,relevance:0},UNDERSCORE_TITLE_MODE:{className:"title",begin:u,relevance:0},METHOD_GUARD:{begin:"\\.\\s*"+u,relevance:0},END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}});function _(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function S(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=_,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function D(e,t){Array.isArray(e.illegal)&&(e.illegal=function(...e){return"("+e.map(e=>d(e)).join("|")+")"}(...e.illegal))}function R(e,t){if(e.match){if(e.begin||e.end)throw Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function M(e,t){void 0===e.relevance&&(e.relevance=1)}let k=["of","and","for","in","not","or","if","then","parent","list","value"],I={"after:highlightElement":({el:e,result:t,text:a})=>{let i=L(e);if(!i.length)return;let r=document.createElement("div");r.innerHTML=t.value,t.value=function(e,t,a){let i=0,r="",s=[];function l(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function o(e){r+="<"+E(e)+[].map.call(e.attributes,function(e){return" "+e.nodeName+'="'+n(e.value)+'"'}).join("")+">"}function d(e){r+="</"+E(e)+">"}function c(e){("start"===e.event?o:d)(e.node)}for(;e.length||t.length;){let t=l();if(r+=n(a.substring(i,t[0].offset)),i=t[0].offset,t===e){s.reverse().forEach(d);do c(t.splice(0,1)[0]),t=l();while(t===e&&t.length&&t[0].offset===i);s.reverse().forEach(o)}else"start"===t[0].event?s.push(t[0].node):s.pop(),c(t.splice(0,1)[0])}return r+n(a.substr(i))}(i,L(r),a)}};function E(e){return e.nodeName.toLowerCase()}function L(e){let t=[];return function e(a,n){for(let i=a.firstChild;i;i=i.nextSibling)3===i.nodeType?n+=i.nodeValue.length:1!==i.nodeType||(t.push({event:"start",offset:n,node:i}),n=e(i,n),E(i).match(/br|hr|img|input/)||t.push({event:"stop",offset:n,node:i}));return n}(e,0),t}let $={},N=e=>{console.error(e)},A=(e,...t)=>{console.log(`WARN: ${e}`,...t)},T=(e,t)=>{$[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),$[`${e}/${t}`]=!0)},B=Symbol("nomatch");var O=function(e){let r=Object.create(null),s=Object.create(null),l=[],p=!0,u=/(^(<[^>]+>|\t|)+|\n)/gm,h="Could not find the language '{}', did you forget to load/include a language module?",g={disableAutodetect:!0,name:"Plain text",contains:[]},m={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:o};function f(e){return m.noHighlightRe.test(e)}function b(e,t,a,n){let i="",r="";"object"==typeof t?(i=e,a=t.ignoreIllegals,r=t.language,n=void 0):(T("10.7.0","highlight(lang, code, ...args) has been deprecated."),T("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),r=e,i=t);let s={code:i,language:r};F("before:highlight",s);let l=s.result?s.result:y(s.language,s.code,a,n);return l.code=s.code,F("after:highlight",l),l}function y(e,t,s,o){function u(){null!=_.subLanguage?function(){if(""===L)return;let e=null;if("string"==typeof _.subLanguage){if(!r[_.subLanguage]){E.addText(L);return}e=y(_.subLanguage,L,!0,I[_.subLanguage]),I[_.subLanguage]=e.top}else e=w(L,_.subLanguage.length?_.subLanguage:null);_.relevance>0&&(A+=e.relevance),E.addSublanguage(e.emitter,e.language)}():function(){if(!_.keywords){E.addText(L);return}let e=0;_.keywordPatternRe.lastIndex=0;let t=_.keywordPatternRe.exec(L),a="";for(;t;){a+=L.substring(e,t.index);let n=function(e,t){let a=v.case_insensitive?t[0].toLowerCase():t[0];return Object.prototype.hasOwnProperty.call(e.keywords,a)&&e.keywords[a]}(_,t);if(n){let[e,i]=n;if(E.addText(a),a="",A+=i,e.startsWith("_"))a+=t[0];else{let a=v.classNameAliases[e]||e;E.addKeyword(t[0],a)}}else a+=t[0];e=_.keywordPatternRe.lastIndex,t=_.keywordPatternRe.exec(L)}a+=L.substr(e),E.addText(a)}(),L=""}function g(e){return e.className&&E.openNode(v.classNameAliases[e.className]||e.className),_=Object.create(e,{parent:{value:_}})}let f={};function b(n,i){let r=i&&i[0];if(L+=n,null==r)return u(),0;if("begin"===f.type&&"end"===i.type&&f.index===i.index&&""===r){if(L+=t.slice(i.index,i.index+1),!p){let t=Error("0 width match regex");throw t.languageName=e,t.badRule=f.rule,t}return 1}if(f=i,"begin"===i.type)return function(e){let t=e[0],n=e.rule,i=new a(n);for(let a of[n.__beforeBegin,n["on:begin"]])if(a&&(a(e,i),i.isMatchIgnored))return 0===_.matcher.regexIndex?(L+=t[0],1):(P=!0,0);return n&&n.endSameAsBegin&&(n.endRe=RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),n.skip?L+=t:(n.excludeBegin&&(L+=t),u(),n.returnBegin||n.excludeBegin||(L=t)),g(n),n.returnBegin?0:t.length}(i);if("illegal"!==i.type||s){if("end"===i.type){let e=function(e){let n=e[0],i=t.substr(e.index),r=function e(t,n,i){let r=function(e,t){let a=e&&e.exec(t);return a&&0===a.index}(t.endRe,i);if(r){if(t["on:end"]){let e=new a(t);t["on:end"](n,e),e.isMatchIgnored&&(r=!1)}if(r){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return e(t.parent,n,i)}(_,e,i);if(!r)return B;let s=_;s.skip?L+=n:(s.returnEnd||s.excludeEnd||(L+=n),u(),s.excludeEnd&&(L=n));do _.className&&E.closeNode(),_.skip||_.subLanguage||(A+=_.relevance),_=_.parent;while(_!==r.parent);return r.starts&&(r.endSameAsBegin&&(r.starts.endRe=r.endRe),g(r.starts)),s.returnEnd?0:n.length}(i);if(e!==B)return e}}else{let e=Error('Illegal lexeme "'+r+'" for mode "'+(_.className||"<unnamed>")+'"');throw e.mode=_,e}if("illegal"===i.type&&""===r)return 1;if(O>1e5&&O>3*i.index)throw Error("potential infinite loop, way more iterations than matches");return L+=r,r.length}let v=$(e);if(!v)throw N(h.replace("{}",e)),Error('Unknown language: "'+e+'"');let C=function(e,{plugins:t}){function a(t,a){return RegExp(d(t),"m"+(e.case_insensitive?"i":"")+(a?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=RegExp(e.toString()+"|").exec("").length-1+1}compile(){0===this.regexes.length&&(this.exec=()=>null);let e=this.regexes.map(e=>e[1]);this.matcherRe=a(function(e,t="|"){let a=0;return e.map(e=>{let t=a+=1,n=d(e),i="";for(;n.length>0;){let e=c.exec(n);if(!e){i+=n;break}i+=n.substring(0,e.index),n=n.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?i+="\\"+String(Number(e[1])+t):(i+=e[0],"("===e[0]&&a++)}return i}).map(e=>`(${e})`).join(t)}(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;let t=this.matcherRe.exec(e);if(!t)return null;let a=t.findIndex((e,t)=>t>0&&void 0!==e),n=this.matchIndexes[a];return t.splice(0,a),Object.assign(t,n)}}class r{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];let t=new n;return this.rules.slice(e).forEach(([e,a])=>t.addRule(e,a)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){let t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let a=t.exec(e);if(this.resumingScanAtSamePosition()){if(a&&a.index===this.lastIndex);else{let t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,a=t.exec(e)}}return a&&(this.regexIndex+=a.position+1,this.regexIndex===this.count&&this.considerAll()),a}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=i(e.classNameAliases||{}),function t(n,s){let l=n;if(n.isCompiled)return l;[R].forEach(e=>e(n,s)),e.compilerExtensions.forEach(e=>e(n,s)),n.__beforeBegin=null,[S,D,M].forEach(e=>e(n,s)),n.isCompiled=!0;let o=null;if("object"==typeof n.keywords&&(o=n.keywords.$pattern,delete n.keywords.$pattern),n.keywords&&(n.keywords=function e(t,a,n="keyword"){let i={};return"string"==typeof t?r(n,t.split(" ")):Array.isArray(t)?r(n,t):Object.keys(t).forEach(function(n){Object.assign(i,e(t[n],a,n))}),i;function r(e,t){a&&(t=t.map(e=>e.toLowerCase())),t.forEach(function(t){var a,n;let r=t.split("|");i[r[0]]=[e,(a=r[0],(n=r[1])?Number(n):k.includes(a.toLowerCase())?0:1)]})}}(n.keywords,e.case_insensitive)),n.lexemes&&o)throw Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return o=o||n.lexemes||/\w+/,l.keywordPatternRe=a(o,!0),s&&(n.begin||(n.begin=/\B|\b/),l.beginRe=a(n.begin),n.endSameAsBegin&&(n.end=n.begin),n.end||n.endsWithParent||(n.end=/\B|\b/),n.end&&(l.endRe=a(n.end)),l.terminatorEnd=d(n.end)||"",n.endsWithParent&&s.terminatorEnd&&(l.terminatorEnd+=(n.end?"|":"")+s.terminatorEnd)),n.illegal&&(l.illegalRe=a(n.illegal)),n.contains||(n.contains=[]),n.contains=[].concat(...n.contains.map(function(e){var t;return((t="self"===e?n:e).variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return i(t,{variants:null},e)})),t.cachedVariants)?t.cachedVariants:!function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(t)?Object.isFrozen(t)?i(t):t:i(t,{starts:t.starts?i(t.starts):null})})),n.contains.forEach(function(e){t(e,l)}),n.starts&&t(n.starts,s),l.matcher=function(e){let t=new r;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(l),l}(e)}(v,{plugins:l}),x="",_=o||C,I={},E=new m.__emitter(m);!function(){let e=[];for(let t=_;t!==v;t=t.parent)t.className&&e.unshift(t.className);e.forEach(e=>E.openNode(e))}();let L="",A=0,T=0,O=0,P=!1;try{for(_.matcher.considerAll();;){O++,P?P=!1:_.matcher.considerAll(),_.matcher.lastIndex=T;let e=_.matcher.exec(t);if(!e)break;let a=t.substring(T,e.index),n=b(a,e);T=e.index+n}return b(t.substr(T)),E.closeAllNodes(),E.finalize(),x=E.toHTML(),{relevance:Math.floor(A),value:x,language:e,illegal:!1,emitter:E,top:_}}catch(a){if(a.message&&a.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:a.message,context:t.slice(T-100,T+100),mode:a.mode},sofar:x,relevance:0,value:n(t),emitter:E};if(p)return{illegal:!1,relevance:0,value:n(t),emitter:E,language:e,top:_,errorRaised:a};throw a}}function w(e,t){t=t||m.languages||Object.keys(r);let a=function(e){let t={relevance:0,emitter:new m.__emitter(m),value:n(e),illegal:!1,top:g};return t.emitter.addText(e),t}(e),i=t.filter($).filter(P).map(t=>y(t,e,!1));i.unshift(a);let[s,l]=i.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if($(e.language).supersetOf===t.language)return 1;if($(t.language).supersetOf===e.language)return -1}return 0});return s.second_best=l,s}let v=/^(<[^>]+>|\t)+/gm;function C(e){let t=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";let a=m.languageDetectRe.exec(t);if(a){let t=$(a[1]);return t||(A(h.replace("{}",a[1])),A("Falling back to no-highlight mode for this block.",e)),t?a[1]:"no-highlight"}return t.split(/\s+/).find(e=>f(e)||$(e))}(e);if(f(t))return;F("before:highlightElement",{el:e,language:t});let a=e.textContent,n=t?b(a,{language:t,ignoreIllegals:!0}):w(a);F("after:highlightElement",{el:e,result:n,text:a}),e.innerHTML=n.value,function(e,t,a){let n=t?s[t]:a;e.classList.add("hljs"),n&&e.classList.add(n)}(e,t,n.language),e.result={language:n.language,re:n.relevance,relavance:n.relevance},n.second_best&&(e.second_best={language:n.second_best.language,re:n.second_best.relevance,relavance:n.second_best.relevance})}let _=()=>{_.called||(_.called=!0,T("10.6.0","initHighlighting() is deprecated.  Use highlightAll() instead."),document.querySelectorAll("pre code").forEach(C))},E=!1;function L(){if("loading"===document.readyState){E=!0;return}document.querySelectorAll("pre code").forEach(C)}function $(e){return r[e=(e||"").toLowerCase()]||r[s[e]]}function O(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{s[e.toLowerCase()]=t})}function P(e){let t=$(e);return t&&!t.disableAutodetect}function F(e,t){l.forEach(function(a){a[e]&&a[e](t)})}for(let a in"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",function(){E&&L()},!1),Object.assign(e,{highlight:b,highlightAuto:w,highlightAll:L,fixMarkup:function(e){var t;return T("10.2.0","fixMarkup will be removed entirely in v11.0"),T("10.2.0","Please see https://github.com/highlightjs/highlight.js/issues/2534"),t=e,m.tabReplace||m.useBR?t.replace(u,e=>"\n"===e?m.useBR?"<br>":e:m.tabReplace?e.replace(/\t/g,m.tabReplace):e):t},highlightElement:C,highlightBlock:function(e){return T("10.7.0","highlightBlock will be removed entirely in v12.0"),T("10.7.0","Please use highlightElement now."),C(e)},configure:function(e){e.useBR&&(T("10.3.0","'useBR' will be removed entirely in v11.0"),T("10.3.0","Please see https://github.com/highlightjs/highlight.js/issues/2559")),m=i(m,e)},initHighlighting:_,initHighlightingOnLoad:function(){T("10.6.0","initHighlightingOnLoad() is deprecated.  Use highlightAll() instead."),E=!0},registerLanguage:function(t,a){let n=null;try{n=a(e)}catch(e){if(N("Language definition for '{}' could not be registered.".replace("{}",t)),p)N(e);else throw e;n=g}n.name||(n.name=t),r[t]=n,n.rawDefinition=a.bind(null,e),n.aliases&&O(n.aliases,{languageName:t})},unregisterLanguage:function(e){for(let t of(delete r[e],Object.keys(s)))s[t]===e&&delete s[t]},listLanguages:function(){return Object.keys(r)},getLanguage:$,registerAliases:O,requireLanguage:function(e){T("10.4.0","requireLanguage will be removed entirely in v11."),T("10.4.0","Please see https://github.com/highlightjs/highlight.js/pull/2844");let t=$(e);if(t)return t;throw Error("The '{}' language is required, but not loaded.".replace("{}",e))},autoDetection:P,inherit:i,addPlugin:function(e){var t;(t=e)["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))}),l.push(e)},vuePlugin:function(e){let t={props:["language","code","autodetect"],data:function(){return{detectedLanguage:"",unknownLanguage:!1}},computed:{className(){return this.unknownLanguage?"":"hljs "+this.detectedLanguage},highlighted(){if(!this.autoDetect&&!e.getLanguage(this.language))return console.warn(`The language "${this.language}" you specified could not be found.`),this.unknownLanguage=!0,n(this.code);let t={};return this.autoDetect?(t=e.highlightAuto(this.code),this.detectedLanguage=t.language):(t=e.highlight(this.language,this.code,this.ignoreIllegals),this.detectedLanguage=this.language),t.value},autoDetect(){var e;return!this.language||!!((e=this.autodetect)||""===e)},ignoreIllegals(){return!0}},render(e){return e("pre",{},[e("code",{class:this.className,domProps:{innerHTML:this.highlighted}})])}};return{Component:t,VuePlugin:{install(e){e.component("highlightjs",t)}}}}(e).VuePlugin}),e.debugMode=function(){p=!1},e.safeMode=function(){p=!0},e.versionString="10.7.3",x)"object"==typeof x[a]&&t(x[a]);return Object.assign(e,x),e.addPlugin({"before:highlightElement":({el:e})=>{m.useBR&&(e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n"))},"after:highlightElement":({result:e})=>{m.useBR&&(e.value=e.value.replace(/\n/g,"<br>"))}}),e.addPlugin(I),e.addPlugin({"after:highlightElement":({result:e})=>{m.tabReplace&&(e.value=e.value.replace(v,e=>e.replace(/\t/g,m.tabReplace)))}}),e}({});e.exports=O},983:function(e){function t(e){return e?"string"==typeof e?e:e.source:null}function a(e){return n("(?=",e,")")}function n(...e){return e.map(e=>t(e)).join("")}e.exports=function(e){let i=n(/[A-Z_]/,n("(",/[A-Z0-9_.-]*:/,")?"),/[A-Z0-9_.-]*/),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"meta-keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},l=e.inherit(s,{begin:/\(/,end:/\)/}),o=e.inherit(e.APOS_STRING_MODE,{className:"meta-string"}),d=e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[A-Za-z0-9._:-]+/,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,d,o,l,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,l,d,o]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:n(/</,a(n(i,"("+[/\/>/,/>/,/\s/].map(e=>t(e)).join("|")+")"))),end:/\/?>/,contains:[{className:"name",begin:i,relevance:0,starts:c}]},{className:"tag",begin:n(/<\//,a(n(i,/>/))),contains:[{className:"name",begin:i,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}},10:function(e,t,a){function n(e){let t;if(e.options.indentation||e.options.lineSeparator)for(e.content+=e.options.lineSeparator,t=0;t<e.level;t++)e.content+=e.options.indentation}function i(e,t){e.content+=t}function r(e,t){Object.keys(t).forEach(function(a){let n=t[a].replace(/"/g,"&quot;");i(e," "+a+'="'+n+'"')})}function s(e,t){t.content.length>0&&n(t),i(t,"<?"+e.name),r(t,e.attributes),i(t,"?>")}e.exports=function(e,t={}){t.indentation="indentation"in t?t.indentation:"    ",t.collapseContent=!0===t.collapseContent,t.lineSeparator="lineSeparator"in t?t.lineSeparator:"\r\n",t.whiteSpaceAtEndOfSelfclosingTag=!!t.whiteSpaceAtEndOfSelfclosingTag;let l=a(741)(e,{filter:t.filter}),o={content:"",level:0,options:t};return l.declaration&&s(l.declaration,o),l.children.forEach(function(e){(function e(t,a,l){if("string"==typeof t.content)l||(t.content=t.content.trim()),t.content.length>0&&(!l&&a.content.length>0&&n(a),i(a,t.content));else if("Element"===t.type)!function(t,a,s){if(!s&&a.content.length>0&&n(a),i(a,"<"+t.name),r(a,t.attributes),null===t.children){let e=a.options.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";i(a,e)}else if(0===t.children.length)i(a,"></"+t.name+">");else{i(a,">"),a.level++;let r="preserve"===t.attributes["xml:space"];if(!r&&a.options.collapseContent){let e=!1,a=!1,n=!1;t.children.forEach(function(i,r){"Text"===i.type?(i.content.includes("\n")?(a=!0,i.content=i.content.trim()):(0===r||r===t.children.length-1)&&0===i.content.trim().length&&(i.content=""),i.content.length>0&&(e=!0)):"CDATA"===i.type?e=!0:n=!0}),e&&(!n||!a)&&(r=!0)}t.children.forEach(function(t){e(t,a,s||r,a.options)}),a.level--,s||r||n(a),i(a,"</"+t.name+">")}}(t,a,l);else if("ProcessingInstruction"===t.type)s(t,a,l);else throw Error("Unknown node type: "+t.type)})(e,o,!1)}),o.content.replace(/\r\n/g,"\n").replace(/\n/g,t.lineSeparator)}},741:function(e){e.exports=function(e,t={}){function a(){return r()||function(){let e=o(/^([^<]+)/);if(e){let a={type:"Text",content:e[1]};return{excluded:!1===t.filter(a),node:a}}}()||s()||function(){if(e.startsWith("<![CDATA[")){let a=e.indexOf("]]>");if(a>-1){let n=a+3,i={type:"CDATA",content:e.substring(0,n)};return e=e.slice(n),{excluded:!1===t.filter(i),node:i}}}}()}function n(){return o(/\s*/),r(!0)||s()||function(){let e=o(/^<!DOCTYPE\s+[^>]*>/);if(e){let a={type:"DocumentType",content:e[0]};return{excluded:!1===t.filter(a),node:a}}}()||i(!1)}function i(e){let a=e?o(/^<\?(xml)\s*/):o(/^<\?([\w-:.]+)\s*/);if(!a)return;let n={name:a[1],type:"ProcessingInstruction",attributes:{}};for(;!(d()||c("?>"));){let e=l();if(!e)return n;n.attributes[e.name]=e.value}return o(/\?>/),{excluded:!e&&!1===t.filter(n),node:n}}function r(e){let n=o(/^<([\w-:.]+)\s*/);if(!n)return;let i={type:"Element",name:n[1],attributes:{},children:[]};for(;!(d()||c(">")||c("?>")||c("/>"));){let e=l();if(!e)return i;i.attributes[e.name]=e.value}let r=!e&&!1===t.filter(i);if(o(/^\s*\/>/))return i.children=null,{excluded:r,node:i};if(o(/\??>/),!r){let e=a();for(;e;)e.excluded||i.children.push(e.node),e=a()}return o(/^<\/[\w-:.]+>/),{excluded:r,node:i}}function s(){let e=o(/^<!--[\s\S]*?-->/);if(e){let a={type:"Comment",content:e[0]};return{excluded:!1===t.filter(a),node:a}}}function l(){let e=o(/([\w-:.]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(e)return{name:e[1],value:e[2].replace(/^['"]|['"]$/g,"")}}function o(t){let a=e.match(t);if(a)return e=e.slice(a[0].length),a}function d(){return 0===e.length}function c(t){return 0===e.indexOf(t)}return t.filter=t.filter||(()=>!0),e=e.trim(),function(){let e;let t=i(!0),a=[],r=n();for(;r;){if("Element"===r.node.type){if(e)throw Error("Found multiple root nodes");e=r.node}r.excluded||a.push(r.node),r=n()}if(!e)throw Error("Failed to parse XML");return{declaration:t?t.node:null,root:e,children:a}}()}},929:function(){},44:function(){},790:function(){},990:function(){},635:function(){},789:function(){},29:function(){let{Component:e}=Shopware;e.extend("ratepay-profile-config-create","ratepay-profile-config-detail",{methods:{loadEntity(){return this.entity=this.repository.create(Shopware.Context.api),this.entity.onlyAdminOrders=!1,this.entity.sandbox=!1,this.isLoading.page=!1,Promise.resolve(this.entity)},onClickSaveAfter(){this.$router.push({name:"ratepay.profile.config.detail",params:{id:this.entity.id},query:{reloadConfig:"1"}})}}})},461:function(e,t,a){var n=a(929);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),a(346).Z("334f1c29",n,!0,{})},145:function(e,t,a){var n=a(44);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),a(346).Z("78d2ff09",n,!0,{})},163:function(e,t,a){var n=a(790);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),a(346).Z("0395e18c",n,!0,{})},484:function(e,t,a){var n=a(990);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),a(346).Z("4eeb3af6",n,!0,{})},927:function(e,t,a){var n=a(635);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),a(346).Z("68ee7243",n,!0,{})},959:function(e,t,a){var n=a(789);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),a(346).Z("317cafb6",n,!0,{})},346:function(e,t,a){"use strict";function n(e,t){for(var a=[],n={},i=0;i<t.length;i++){var r=t[i],s=r[0],l={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};n[s]?n[s].parts.push(l):a.push(n[s]={id:s,parts:[l]})}return a}a.d(t,{Z:function(){return g}});var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},s=i&&(document.head||document.getElementsByTagName("head")[0]),l=null,o=0,d=!1,c=function(){},p=null,u="data-vue-ssr-id",h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,a,i){d=a,p=i||{};var s=n(e,t);return m(s),function(t){for(var a=[],i=0;i<s.length;i++){var l=r[s[i].id];l.refs--,a.push(l)}t?m(s=n(e,t)):s=[];for(var i=0;i<a.length;i++){var l=a[i];if(0===l.refs){for(var o=0;o<l.parts.length;o++)l.parts[o]();delete r[l.id]}}}}function m(e){for(var t=0;t<e.length;t++){var a=e[t],n=r[a.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](a.parts[i]);for(;i<a.parts.length;i++)n.parts.push(b(a.parts[i]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{for(var s=[],i=0;i<a.parts.length;i++)s.push(b(a.parts[i]));r[a.id]={id:a.id,refs:1,parts:s}}}}function f(){var e=document.createElement("style");return e.type="text/css",s.appendChild(e),e}function b(e){var t,a,n=document.querySelector("style["+u+'~="'+e.id+'"]');if(n){if(d)return c;n.parentNode.removeChild(n)}if(h){var i=o++;t=w.bind(null,n=l||(l=f()),i,!1),a=w.bind(null,n,i,!0)}else t=v.bind(null,n=f()),a=function(){n.parentNode.removeChild(n)};return t(e),function(n){n?(n.css!==e.css||n.media!==e.media||n.sourceMap!==e.sourceMap)&&t(e=n):a()}}var y=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}();function w(e,t,a,n){var i=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var r=document.createTextNode(i),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function v(e,t){var a=t.css,n=t.media,i=t.sourceMap;if(n&&e.setAttribute("media",n),p.ssrId&&e.setAttribute(u,t.id),i&&(a+="\n/*# sourceURL="+i.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}}},t={};function a(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={id:n,exports:{}};return e[n](r,r.exports,a),r.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/bundles/rpaypayments/",a.p=window.__sw__.assetPath+"/bundles/rpaypayments/",function(){"use strict";var e=JSON.parse('{"ratepay":{"admin":{"create-order":{"modal":{"please-select":"-- Bitte ausw\xe4hlen --","start-session":"Sitzung starten","labels":{"salesChannel":"Sales Channel","salesChannelDomain":"Domain"}}}}}}'),t=JSON.parse('{"ratepay":{"admin":{"create-order":{"modal":{"please-select":"-- Please select --","start-session":"Start session","labels":{"salesChannel":"Sales channel","salesChannelDomain":"Domain"}}}}}}');let{Component:n}=Shopware,{Criteria:i}=Shopware.Data;n.register("ratepay-admin-create-order-form",{template:'{#\n  ~ Copyright (c) Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n<div>\n    <sw-select-field v-model:value="selectedSalesChannelId"\n                     :label="$tc(\'ratepay.admin.create-order.modal.labels.salesChannel\')"\n                     @update:value="selectedSalesChannelDomainId = null">\n        <option>{{ $t(\'ratepay.admin.create-order.modal.please-select\') }}</option>\n        <option v-for="salesChannel in salesChannels"\n                :value="salesChannel.id"\n                :selected="salesChannel === selectedSalesChannelId">\n            {{ salesChannel.translated.name }}\n        </option>\n    </sw-select-field>\n\n\n    <sw-select-field v-model:value="selectedSalesChannelDomainId"\n                     :label="$tc(\'ratepay.admin.create-order.modal.labels.salesChannelDomain\')"\n                     v-if="salesChannelDomains.length">\n        <option>{{ $t(\'ratepay.admin.create-order.modal.please-select\') }}</option>\n        <option v-for="salesChannelDomain in salesChannelDomains"\n                :value="salesChannelDomain.id"\n                :selected="salesChannelDomain.id === selectedSalesChannelDomainId">\n            {{ salesChannelDomain.url }}\n        </option>\n    </sw-select-field>\n\n    <sw-button @click="navigateToFrontend" class="sw-button--primary" v-if="selectedSalesChannelDomainId">\n        {{ $t(\'ratepay.admin.create-order.modal.start-session\') }}\n    </sw-button>\n</div>\n\n',snippets:{"de-DE":e,"en-GB":t},inject:["repositoryFactory","ratepayAdminOrderLoginTokenService"],data(){return{loading:!1,salesChannels:null,selectedSalesChannelId:null,selectedSalesChannelDomainId:null,salesChannelRepository:null,salesChannelDomainRepository:null}},created(){this.salesChannelRepository=this.repositoryFactory.create("sales_channel"),this.salesChannelDomainRepository=this.repositoryFactory.create("sales_channel_domain");let e=new i;e.addFilter(i.not("AND",[i.equals("domains.url",null)])),e.addFilter(i.equals("active",!0)),e.addAssociation("domains"),this.loading=!0,this.salesChannelRepository.search(e,Shopware.Context.api).then(e=>{this.salesChannels=e.filter(e=>e.domains.length>0),this.loading=!1})},computed:{salesChannelDomains(){return this.selectedSalesChannelId?this.salesChannels.get(this.selectedSalesChannelId)?.domains??[]:[]}},methods:{navigateToFrontend(){this.ratepayAdminOrderLoginTokenService.requestTokenUrl(this.selectedSalesChannelId,this.selectedSalesChannelDomainId).then(e=>{window.open(e.url)})}}}),a(461);let{Component:r}=Shopware;r.register("ratepay-plugin-icon",{template:'<svg class="ratepay-plugin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1290.83 1351.26"><defs></defs><g><g><path fill="#e4003f" d="M960.55,95.87C857.41,34.4,737.61-1,609.46,0,336.51,3.15,103.14,167.75,0,402.16L336.51,732.42Z"/><path fill="#e4003f" d="M1232.47,402.16h0l-878.25,896h0c82.3,34.37,172.94,53.13,267.74,53.13,373-4.17,672-308.38,668.85-681.35C1289.77,574.06,1268.93,483.42,1232.47,402.16Z"/></g></g></svg>\n'});let s=Shopware.Classes.ApiService;class l extends s{constructor(e,t){super(e,t,"ratepay/api-log/distinct-values"),this.httpClient=e,this.name="RatepayApiLogDistinctValuesService"}getDistinctValues(e){return this.httpClient.get(this.getApiBasePath()+"/"+e,{headers:this.getBasicHeaders()}).then(e=>e.data)}}Shopware.Application.addServiceProvider("RatepayLogDistinctValuesService",e=>new l(Shopware.Application.getContainer("init").httpClient,e.loginService)),a(163);var o=a(10),d=a.n(o),c=a(809),p=a.n(c),u=a(983),h=a.n(u);a(959);let{Component:g,Mixin:m}=Shopware,{Criteria:f}=Shopware.Data;g.register("ratepay-api-log-list",{template:'{#\n  ~ Copyright (c) Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block ratepay_api_log_list %}\n<sw-page class="ratepay-log-viewer-list">\n\n    {% block ratepay_api_log_list_search_bar %}\n        <template #search-bar>\n            <sw-search-bar initial-search-type="ratepay_api_log"\n                           :initial-search="term"\n                           @search="onSearch">\n            </sw-search-bar>\n        </template>\n    {% endblock %}\n\n    <template #smart-bar-header>\n        <h2>{{ $t(\'ratepay.apiLog.componentTitle\') }}</h2>\n    </template>\n\n    {% block ratepayapilog_list_smart_bar_actions %}\n        <template #smart-bar-actions>\n            <sw-button-process variant="primary"\n                               @click="getList"\n                               :is-loading="isLoading"\n                               :process-success="isLoaded"\n                               @process-finish="isLoaded = false">\n                {{ $t(\'ratepay.apiLog.page.list.reload\') }}\n            </sw-button-process>\n        </template>\n    {% endblock %}\n\n    <template #content>\n        {% block ratepay_api_log_list_content %}\n            <sw-entity-listing\n                v-if="entities"\n                :items="entities"\n                :repository="repository"\n                :show-selection="false"\n                :columns="columns"\n                :show-actions="true"\n                :identifier="\'ratepay-api-log-list\'">\n\n                <template #column-createdAt="{ item }">\n                    {{ dateFilter(item.createdAt, { hour: \'2-digit\', minute: \'2-digit\' }) }}\n                </template>\n\n                <template #actions="{ item }">\n                    <sw-context-menu-item @click="modalItem = item">\n                        {{ $t(\'ratepay.apiLog.modal.openTitle\') }}\n                    </sw-context-menu-item>\n\n                    <sw-context-menu-item\n                        v-if="item.additionalData.orderId"\n                        :router-link="{ name: \'sw.order.detail\', params: { id: item.additionalData.orderId } }"\n                    >\n                        {{ $t(\'ratepay.apiLog.page.list.openOrder\') }}\n                    </sw-context-menu-item>\n                </template>\n            </sw-entity-listing>\n\n            <sw-modal\n                :title="$t(\'ratepay.apiLog.global.labels.viewLog\')"\n                v-if="modalItem"\n                class="ratepay-xml-log-modal"\n                @modal-close="modalItem = null">\n                <div class="flex-container">\n                    <div>\n                        <span class="heading">{{ $t(\'ratepay.apiLog.modal.request.heading\') }}</span>\n                        <pre class="content" v-html="formatXml(modalItem.request)"></pre>\n                    </div>\n                    <div>\n                        <span class="heading">{{ $t(\'ratepay.apiLog.modal.response.heading\') }}</span>\n                        <pre class="content" v-html="formatXml(modalItem.response)"></pre>\n                    </div>\n                </div>\n            </sw-modal>\n        {% endblock %}\n    </template>\n\n    <template #sidebar>\n        <sw-sidebar>\n            <sw-sidebar-filter-panel\n                entity="ratepay_api_log"\n                :store-key="storeKey"\n                :filters="listFilters"\n                :defaults="defaultFilters"\n                :active-filter-number="activeFilterNumber"\n                @criteria-changed="updateCriteria"\n            />\n        </sw-sidebar>\n    </template>\n</sw-page>\n{% endblock %}\n',inject:["repositoryFactory","filterFactory","RatepayLogDistinctValuesService"],mixins:[m.getByName("listing")],data(){return{entityName:"ratepay_api_log",repository:null,entities:null,modalItem:null,initialLogId:null,isLoading:!1,isLoaded:!1,searchConfigEntity:"ratepay_api_log",storeKey:"grid.filter.ratepay_api_log",activeFilterNumber:0,filterCriteria:[],defaultFilters:["createdAt-filter","subOperation-filter","operation-filter","resultCode-filter","resultText-filter","reasonCode-filter","reasonText-filter","statusCode-filter","statusText-filter"],automaticFilter:["operation","subOperation","resultCode","resultText","reasonCode","reasonText","statusCode","statusText"],filterOptions:{operation:null,subOperation:null,resultCode:null,resultText:null,reasonCode:null,reasonText:null,statusCode:null,statusText:null}}},metaInfo(){return{title:this.$t("ratepay.apiLog.componentTitle")}},computed:{dateFilter(){return Shopware.Filter.getByName("date")},columns(){return[{property:"createdAt",dataIndex:"createdAt",label:this.$t("ratepay.apiLog.global.labels.createdAt"),allowResize:!0},{property:"operation",dataIndex:"operation",label:this.$t("ratepay.apiLog.global.labels.operation"),allowResize:!0},{property:"subOperation",dataIndex:"subOperation",label:this.$t("ratepay.apiLog.global.labels.subOperation"),allowResize:!0},{property:"resultCode",dataIndex:"resultCode",label:this.$t("ratepay.apiLog.global.labels.resultCode"),allowResize:!0,visible:!1},{property:"resultText",dataIndex:"resultText",label:this.$t("ratepay.apiLog.global.labels.resultText"),allowResize:!0,visible:!1},{property:"statusCode",dataIndex:"statusCode",label:this.$t("ratepay.apiLog.global.labels.statusCode"),allowResize:!0,visible:!1},{property:"statusText",dataIndex:"statusText",label:this.$t("ratepay.apiLog.global.labels.statusText"),allowResize:!0,visible:!1},{property:"reasonCode",dataIndex:"reasonCode",label:this.$t("ratepay.apiLog.global.labels.reasonCode"),allowResize:!0,visible:!1},{property:"reasonText",dataIndex:"reasonText",label:this.$t("ratepay.apiLog.global.labels.reasonText"),allowResize:!0,visible:!1},{property:"additionalData.transactionId",dataIndex:"transactionId",label:this.$t("ratepay.apiLog.global.labels.transactionId"),allowResize:!0},{property:"additionalData.orderNumber",dataIndex:"orderNumber",label:this.$t("ratepay.apiLog.global.labels.orderNumber"),allowResize:!0,visible:!1},{property:"additionalData.firstName",dataIndex:"firstName",label:this.$t("ratepay.apiLog.global.labels.firstName"),allowResize:!0,visible:!1},{property:"additionalData.lastName",dataIndex:"lastName",label:this.$t("ratepay.apiLog.global.labels.lastName"),allowResize:!0,visible:!1},{property:"additionalData.descriptor",dataIndex:"descriptor",label:this.$t("ratepay.apiLog.global.labels.descriptor"),allowResize:!0,visible:!1}]},apiLogCriteria(){let e=new f;return this.isValidTerm(this.term)&&e.setTerm(this.term),e.addSorting(f.sort("createdAt","DESC")),this.filterCriteria.forEach(t=>{e.addFilter(t)}),(void 0===e.getLimit()||null===e.getLimit()||0===e.getLimit())&&e.setLimit(25),e},listFilters(){let e={"createdAt-filter":{property:"createdAt",type:"date-filter",label:this.$t("ratepay.apiLog.global.labels.createdAt"),dateType:"datetime-local",fromFieldLabel:null,toFieldLabel:null,showTimeframe:!1}};return this.automaticFilter.forEach(t=>{e[t+"-filter"]={property:t,type:"multi-select-filter",label:this.$t("ratepay.apiLog.global.labels."+t),options:this.filterOptions[t]}}),this.filterFactory.create(this.entityName,e)}},created(){this.initalLogId=void 0!==this.$route.query.logId?this.$route.query.logId.trim():null,this.repository=this.repositoryFactory.create(this.entityName),p().registerLanguage("xml",h()),p().configure({useBR:!1}),this.RatepayLogDistinctValuesService.getDistinctValues(this.automaticFilter.join("|")).then(e=>{e.results.forEach(e=>{this.filterOptions[e.name]=e.options.map(e=>({label:e,value:e}))})})},watch:{$route(){this.initalLogId=void 0!==this.$route.query.logId?this.$route.query.logId.trim():null},apiLogCriteria:{handler(){this.getList()},deep:!0}},methods:{formatXml(e){return p().highlight("xml",d()(e,{collapseContent:!0})).value.replaceAll(/\r\n\s*&lt;!\[CDATA\[/gi,"&lt;![CDATA[").replaceAll(/]]&gt;\r\n\s*/gi,"]]&gt;")},async getList(){this.isLoading=!0;let e=await Shopware.Service("filterService").mergeWithStoredFilters(this.storeKey,this.apiLogCriteria);this.isValidTerm(this.term)&&(e=await this.addQueryScores(this.term,e)),this.repository.search(e,Shopware.Context.api).then(e=>{this.entities=e,this.initalLogId&&this.entities.has(this.initalLogId)&&(this.modalItem=e.get(this.initalLogId))}).finally(()=>{this.isLoading=!1,this.isLoaded=!1}),this.activeFilterNumber=e.filters.length},onSearch(e){this.initalLogId=null,this.term=e.trim(),this.getList()},updateCriteria(e){this.page=1,this.filterCriteria=e}}}),a(145);let{Application:b,Component:y}=Shopware;y.override("sw-search-bar-item",{template:'{% block sw_search_bar_item_cms_page %}\n    {% parent %}\n\n    {% block sw_search_bar_item_ratepay_api_log %}\n        <router-link v-else-if="type === \'ratepay_api_log\'"\n                     v-bind:to="{ name: \'ratepay.api.log.list\', query: { logId: item.id, term: searchTerm } }"\n                     ref="routerLink"\n                     class="sw-search-bar-item__link">\n            {% block sw_search_bar_item_ratepay_api_log_label %}\n                <span class="sw-search-bar-item__label ratepay-api-log-search-result">\n                    <div>\n                        <sw-highlight-text v-bind:search-term="searchTerm"\n                                           v-bind:text="item.additionalData.transactionId">\n                        </sw-highlight-text>\n                        <span>({{ item.operation }})</span>\n                    </div>\n                    <div class="order-info" v-if="item.additionalData.orderNumber">\n                        <span class="order-info--number">{{ item.additionalData.orderNumber }}</span>\n                        <span v-if="item.additionalData.mail" class="order-info--mail">{{ item.additionalData.mail }}</span>\n                        <span v-if="item.additionalData.firstName" class="order-info--name">{{ item.additionalData.firstName }} {{ item.additionalData.lastName }}</span>\n                    </div>\n                </span>\n            {% endblock %}\n        </router-link>\n    {% endblock %}\n{% endblock %}\n'}),b.addServiceProviderDecorator("searchTypeService",e=>(e.upsertType("ratepay_api_log",{entityName:"ratepay_api_log",placeholderSnippet:"global.placeholderSearchBar.ratepay_api_log",listingRoute:"ratepay.api.log.list"}),e));var w=JSON.parse('{"global":{"entities":{"ratepay_api_log":"Ratepay API-Logs"},"placeholderSearchBar":{"ratepay_api_log":"Ratepay API-Logs durchsuchen"}},"sw-profile":{"tabSearchPreferences":{"modules":{"ratepay_api_log":{"transactionId":"Transaktions-ID","descriptor":"Verwendungszweck","orderNumber":"Bestellnummer","firstname":"Vorname","lastname":"Nachname","mail":"E-Mail Adresse","operation":"Operation","response":"Antwort"}}}},"ratepay":{"apiLog":{"componentTitle":"Ratepay API-Logs","page":{"detail":{"cancelButtonText":"Zur\xfcck"},"list":{"reload":"Aktualisieren","openOrder":"Bestellung \xf6ffnen"}},"global":{"labels":{"id":"Id","operation":"Operation","subOperation":"Suboperation","transactionId":"Transaktions ID","firstName":"Vorname","lastName":"Nachname","createdAt":"Erstellt am","request":"Anfrage","response":"Antwort","viewLog":"Anfrage / Antwort","orderNumber":"Bestellnummer","descriptor":"Verwendungszweck","resultCode":"Result Code","resultText":"Result Text","statusCode":"Status Code","statusText":"Status Text","reasonCode":"Reason Code","reasonText":"Reason Text"}},"modal":{"openTitle":"Anfrage / Antwort anzeigen","request":{"heading":"Anfrage"},"response":{"heading":"Antwort"}}}}}'),v=JSON.parse('{"global":{"entities":{"ratepay_api_log":"Ratepay API-Logs"},"placeholderSearchBar":{"ratepay_api_log":"Search in Ratepay API-Logs"}},"sw-profile":{"tabSearchPreferences":{"modules":{"ratepay_api_log":{"transactionId":"Transaction-ID","descriptor":"Descriptor","orderNumber":"Ordernumber","firstname":"Firstname","lastname":"Lastname","mail":"Mail Address","operation":"Operation","response":"Response"}}}},"ratepay":{"apiLog":{"componentTitle":"Ratepay API-Logs","page":{"detail":{"cancelButtonText":"Back"},"list":{"reload":"Refresh","openOrder":"Open order"}},"global":{"labels":{"id":"Id","operation":"Operation","subOperation":"Suboperation","transactionId":"Transaction ID","firstName":"First name","lastName":"Last name","createdAt":"Created at","request":"Request","response":"Response","viewLog":"Request / Response","orderNumber":"Order number","descriptor":"Descriptor","resultCode":"Result Code","resultText":"Result Text","statusCode":"Status Code","statusText":"Status Text","reasonCode":"Reason Code","reasonText":"Reason Text"}},"modal":{"openTitle":"show request / response","request":{"heading":"Request"},"response":{"heading":"Response"}}}}}');let{Module:C}=Shopware;C.register("ratepay-api-log",{type:"plugin",name:"api-log",title:"ratepay.apiLog.componentTitle",icon:"regular-cog",color:"#e4233e",entity:"ratepay_api_log",snippets:{"de-DE":w,"en-GB":v},routes:{list:{component:"ratepay-api-log-list",path:"list",meta:{parentPath:"sw.settings.index"}}},settingsItem:[{to:"ratepay.api.log.list",group:"plugins",iconComponent:"ratepay-plugin-icon"}],defaultSearchConfiguration:{_searchable:!0,additionalData:{transactionId:{_searchable:!0,_score:100},descriptor:{_searchable:!0,_score:100},orderNumber:{_searchable:!0,_score:80},firstname:{_searchable:!0,_score:60},lastname:{_searchable:!0,_score:60},mail:{_searchable:!0,_score:60}},operation:{_searchable:!0,_score:80},response:{_searchable:!0,_score:50}}});let{Component:x}=Shopware,{Criteria:_}=Shopware.Data;x.register("ratepay-profile-config-list",{template:'{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block ratepay_profile_config_list %}\n<sw-page class="ratepay-profile-config-list">\n\n    <template #smart-bar-header>\n        <h2>{{ $t(\'ratepay.profileConfig.componentTitle\') }}</h2>\n    </template>\n\n    {% block ratepay_profile_config_list_smart_bar_actions %}\n        <template #smart-bar-actions>\n            <sw-button variant="primary" :router-link="{ name: \'ratepay.profile.config.create\' }">\n                {{ $t(\'ratepay.profileConfig.page.list.createButton\') }}\n            </sw-button>\n        </template>\n    {% endblock %}\n\n    <template #content>\n        {% block ratepay_profile_config_list_content %}\n            <sw-entity-listing\n                v-if="entities"\n                :items="entities"\n                :repository="repository"\n                :show-selection="false"\n                :columns="columns"\n                :identifier="\'ratepay-profile-config-list\'"\n                detail-route="ratepay.profile.config.detail">\n\n                <template #column-status="{ item }">\n                    <sw-color-badge color="red" v-if="item.status === false" ></sw-color-badge>\n                    <span v-if="item.status === false">&nbsp;&nbsp;{{ $t(\'ratepay.profileConfig.global.labels.inactive\') }}</span>\n                    <sw-color-badge color="green" v-if="item.status === true"></sw-color-badge>\n                    <span v-if="item.status === true">&nbsp;&nbsp;{{ $t(\'ratepay.profileConfig.global.labels.active\') }}</span>\n                </template>\n\n                <template #column-onlyAdminOrders="{ item }">\n                    <span v-if="item.onlyAdminOrders">{{ $t(\'global.default.yes\') }}</span>\n                    <span v-if="!item.onlyAdminOrders">{{ $t(\'global.default.no\') }}</span>\n                </template>\n\n                <template #column-sandbox="{ item }">\n                    <span v-if="item.sandbox">{{ $t(\'global.default.yes\') }}</span>\n                    <span v-if="!item.sandbox">{{ $t(\'global.default.no\') }}</span>\n                </template>\n\n                <template #column-salesChannel="{ item }">\n                    {{ item.salesChannel.name }}\n                </template>\n            </sw-entity-listing>\n        {% endblock %}\n    </template>\n</sw-page>\n{% endblock %}\n',inject:["repositoryFactory"],metaInfo(){return{title:this.$t("ratepay.profileConfig.componentTitle")}},data(){return{repository:null,entities:null}},computed:{columns(){return[{property:"profileId",dataIndex:"profileId",label:this.$t("ratepay.profileConfig.global.labels.profile_id"),routerLink:"ratepay.profile.config.detail",allowResize:!0},{property:"salesChannel.name",dataIndex:"salesChannel.name",label:this.$t("ratepay.profileConfig.global.labels.sales_channel"),allowResize:!0},{property:"sandbox",dataIndex:"sandbox",label:this.$t("ratepay.profileConfig.global.labels.sandbox"),allowResize:!0},{property:"onlyAdminOrders",dataIndex:"onlyAdminOrders",label:this.$t("ratepay.profileConfig.global.labels.onlyAdminOrders"),allowResize:!0},{property:"status",dataIndex:"status",label:this.$t("ratepay.profileConfig.global.labels.status"),allowResize:!0}]}},created(){this.repository=this.repositoryFactory.create("ratepay_profile_config");let e=new _;e.addAssociation("salesChannel"),(void 0===e.getLimit()||null===e.getLimit()||0===e.getLimit())&&e.setLimit(25),this.repository.search(e,Shopware.Context.api).then(e=>{this.entities=e})}});let{Component:S,Mixin:D}=Shopware,{Criteria:R}=Shopware.Data;S.register("ratepay-profile-config-detail",{template:'{#\n  ~ Copyright (c) Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block ratepay_profile_config_detail %}\n    <sw-page class="ratepay-profile-config-detail">\n        <template #smart-bar-actions>\n            <sw-button :router-link="{ name: \'ratepay.profile.config.list\' }">\n                {{ $t(\'ratepay.profileConfig.page.detail.cancelButtonText\') }}\n            </sw-button>\n\n            <sw-button-process\n                :is-loading="isLoading.save"\n                variant="primary"\n                v-model:process-success="processSuccessState.save"\n                @click="onClickSave">\n                {{ $t(\'ratepay.profileConfig.page.detail.saveButtonText\') }}\n            </sw-button-process>\n\n            <sw-button-process\n                v-if="entity && entity.isNew() === false && entity.status"\n                :key="entity.status"\n                :is-loading="isLoading.reloadConfig"\n                v-model:process-success="processSuccessState.reloadConfig"\n                variant="primary"\n                :disabled="disabledReloadButton"\n                @click="onClickReloadConfig">\n                {{ $t(\'ratepay.profileConfig.page.detail.reloadConfig\') }}\n            </sw-button-process>\n        </template>\n\n        <template #content>\n            <sw-card-view>\n                <sw-card v-if="entity" :is-loading="isLoading.page || isLoading.save" position-identifier="ratepay-profile-edit">\n                    <sw-text-field @update:value="lockReloadButton" :label="$t(\'ratepay.profileConfig.global.labels.profile_id\')" v-model:value="entity.profileId" required></sw-text-field>\n                    <sw-password-field type="password" @change="lockReloadButton" :label="$t(\'ratepay.profileConfig.global.labels.security_code\')" v-model:value="entity.securityCode" required></sw-password-field>\n                    <sw-switch-field @update:value="lockReloadButton" :label="$t(\'ratepay.profileConfig.global.labels.sandbox\')" v-model:value="entity.sandbox"></sw-switch-field>\n                    <sw-switch-field @update:value="lockReloadButton" :label="$t(\'ratepay.profileConfig.global.labels.onlyAdminOrders\')" v-model:value="entity.onlyAdminOrders"></sw-switch-field>\n\n                    <sw-entity-single-select\n                        @update:value="lockReloadButton"\n                        entity="sales_channel"\n                        :label="$t(\'ratepay.profileConfig.global.labels.sales_channel\')"\n                        v-model:value="entity.salesChannelId"\n                        label-property="name"\n                        required\n                    >\n                    </sw-entity-single-select>\n\n                </sw-card>\n\n                <sw-card v-if="entity && entity.status" :is-loading="isLoading.page || isLoading.save" position-identifier="ratepay-profile-details">\n                    <sw-tabs default-item="general" position-identifier="ratepay-profile-details-tabs">\n                        <template #default="{ active }">\n                            <sw-tabs-item :active-tab="active" name="general">\n                                {{ $t(\'ratepay.profileConfig.page.tabs.general.title\') }}\n                            </sw-tabs-item>\n\n                            <sw-tabs-item v-for="config in entity.paymentMethodConfigs" :active-tab="active" :name="config.paymentMethod.id" :key="config.id">\n                                {{ config.paymentMethod.name }}\n                            </sw-tabs-item>\n                        </template>\n\n                        <template #content="{ active }">\n                            <table style="text-align: left;" v-if="active === \'general\'">\n                                <tbody>\n                                <tr>\n                                    <th>{{ $t(\'ratepay.profileConfig.page.tabs.general.table.label.countryCodeBilling\') }}</th>\n                                    <td>{{ entity.countryCodeBilling.join(\', \') }}</td>\n                                </tr>\n                                <tr>\n                                    <th>{{ $t(\'ratepay.profileConfig.page.tabs.general.table.label.countryCodeDelivery\') }}</th>\n                                    <td>{{ entity.countryCodeDelivery.join(\', \') }}</td>\n                                </tr>\n                                <tr>\n                                    <th>{{ $t(\'ratepay.profileConfig.page.tabs.general.table.label.currency\') }}</th>\n                                    <td>{{ entity.currency.join(\', \') }}</td>\n                                </tr>\n                                <tr>\n                                    <th>{{ $t(\'ratepay.profileConfig.page.tabs.general.table.label.errorDefault\') }}</th>\n                                    <td>{{ entity.errorDefault }}</td>\n                                </tr>\n                                <tr>\n                                    <th>{{ $t(\'ratepay.profileConfig.page.tabs.general.table.label.updatedAt\') }}</th>\n                                    <td>{{ dateFilter(entity.updatedAt, {hour: \'2-digit\', minute: \'2-digit\'}) }}</td>\n                                </tr>\n                                </tbody>\n                            </table>\n\n                            <template v-for="config in entity.paymentMethodConfigs" :key="config.paymentMethod.id">\n                                <table v-if="active === config.paymentMethod.id" style="text-align: left;">\n                                    <tbody>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.allowB2b\') }}</th>\n                                            <td>{{ config.allowB2b ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.limitMin\') }}</th>\n                                            <td>{{ config.limitMin }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.limitMax\') }}</th>\n                                            <td>{{ config.limitMax }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.limitMaxB2b\') }}</th>\n                                            <td>{{ config.limitMaxB2b }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.allowDifferentAddresses\') }}</th>\n                                            <td>{{ config.allowDifferentAddresses ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th colspan="2" style="padding-top: 15px; border-bottom: 1px solid #ccc;">{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installmentHeading\') }}</th>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.allowedMonths\') }}</th>\n                                            <td>{{ config.installmentConfig.allowedMonths.join(\', \') }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.isBankTransferAllowed\') }}</th>\n                                            <td>{{ config.installmentConfig.isBankTransferAllowed ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.isDebitAllowed\') }}</th>\n                                            <td>{{ config.installmentConfig.isDebitAllowed ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.defaultPaymentType\') }}</th>\n                                            <td>{{ config.installmentConfig.defaultPaymentType }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.rateMin\') }}</th>\n                                            <td>{{ config.installmentConfig.rateMin }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.defaultInterestRate\') }}</th>\n                                            <td>{{ config.installmentConfig.defaultInterestRate }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.serviceCharge\') }}</th>\n                                            <td>{{ config.installmentConfig.serviceCharge }}</td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </template>\n                        </template>\n                    </sw-tabs>\n                </sw-card>\n            </sw-card-view>\n        </template>\n    </sw-page>\n{% endblock %}\n',inject:{repositoryFactory:"repositoryFactory",profileConfigApiService:"ratepay-profile-config"},mixins:[D.getByName("notification")],metaInfo(){return{title:this.$createTitle()}},data(){return{entity:null,isLoading:{page:!0,save:!1,reloadConfig:!1},processSuccessState:{save:!1,reloadConfig:!1},repository:null,disabledReloadButton:null===this.entity,currentTab:"general"}},computed:{dateFilter(){return Shopware.Filter.getByName("date")}},created(){this.repository=this.repositoryFactory.create("ratepay_profile_config"),this.loadEntity().then(()=>this.$route.query.reloadConfig&&this.onClickReloadConfig())},methods:{lockReloadButton(){this.disabledReloadButton=!0},loadEntity(){let e=new R;return e.addAssociation("paymentMethodConfigs.paymentMethod"),e.addAssociation("paymentMethodConfigs.installmentConfig"),e.setIds([this.$route.params.id]),this.repository.search(e,Shopware.Context.api).then(e=>{this.entity=e.first(),this.isLoading.page=!1})},onClickSave(){this._lockButtons(!0),this.repository.save(this.entity,Shopware.Context.api).then(async()=>{await this.onClickSaveAfter(),this.createNotificationSuccess({title:this.$tc("ratepay.profileConfig.messages.save.success"),message:this.$tc("ratepay.profileConfig.messages.save.success")}),this._lockButtons(!1,!0),this.processSuccess=!0}).catch(e=>{this._lockButtons(!1),this.createNotificationError({title:this.$t("ratepay.profileConfig.messages.save.error.title"),message:e})})},_lockButtons(e,t){this.isLoading.save=e,this.isLoading.reloadConfig=e,void 0!==t&&(this.processSuccessState.save=t,this.processSuccessState.reloadConfig=t)},async onClickSaveAfter(){await this.loadEntity(),await this.onClickReloadConfig()},saveFinish(){this.processSuccessState.save=processState,this.processSuccessState.reloadConfig=processState},onClickReloadConfig(){return this.isLoading.reloadConfig=!0,this.profileConfigApiService.reloadConfig(this.entity.id).then(async e=>{if(await this.loadEntity(),e?.error)for(let[t,a]of Object.entries(e.error))this.createNotificationError({title:t,message:a});else this.createNotificationSuccess({title:this.entity.profileId,message:this.$tc("ratepay.profileConfig.messages.reload.success")});this.$forceUpdate(),this.isLoading.reloadConfig=!1,this.processSuccessState.reloadConfig=!0}).catch(e=>{console.error(e),e.response?.data?.success===!1&&this.createNotificationError({title:this.entity.profileId,message:e.response?.data?.message})})},switchTab(e){this.currentTab=e}}}),a(29);var M=JSON.parse('{"ratepay":{"profileConfig":{"componentTitle":"Ratepay Profil Konfiguration","global":{"labels":{"profile_id":"Profile ID","security_code":"Sicherheitsschl\xfcssel","sales_channel":"Sales Channel","sandbox":"Testmodus","status":"Status","active":"Aktiv","inactive":"Inaktiv","onlyAdminOrders":"Nur f\xfcr Admin Bestellungen"}},"page":{"list":{"createButton":"Profil hinzuf\xfcgen"},"detail":{"cancelButtonText":"Abbrechen","saveButtonText":"Speichern","reloadConfig":"Konfiguration neuladen"},"tabs":{"general":{"title":"Allgemein","table":{"label":{"countryCodeBilling":"erlaubte L\xe4nder (Rechnungsadresse)","countryCodeDelivery":"erlaubte L\xe4nder (Lieferadresse)","currency":"W\xe4hrung","errorDefault":"Standardfehlermeldung","updatedAt":"Zuletzt aktualisiert"}}},"invoice":{"title":"Rechnung"},"prepayment":{"title":"Vorkasse"},"debit":{"title":"Lastschrift"},"installment":{"title":"Ratenzahlung"},"installment_zero_percent":{"title":"0% Finanzierung"}},"paymentConfig":{"table":{"label":{"allowB2b":"Erlaube B2B","limitMin":"Mindestbestellwert","limitMax":"Maximalbestellwert","limitMaxB2b":"Maximalbestellwert (B2B)","allowDifferentAddresses":"Erlaube unterschiedliche Adressen","installmentHeading":"Ratenzahlung","installment":{"allowedMonths":"Verf\xfcgbare Monate","isBankTransferAllowed":"Erlaube \xdcberweisung","isDebitAllowed":"Erlaube Lastschrift","rateMin":"min. monatliche Rate","defaultPaymentType":"Standard Zahltyp","defaultInterestRate":"Standard Zinssatz","serviceCharge":"Bearbeitungsgeb\xfchr"}}}}},"messages":{"save":{"success":"Die Profile-Konfiguration wurde erfolgreich gespeichert","error":{"title":"Beim Speichern der Profile-Konfiguration ist ein Fehler aufgetreten","message":"Bitte pr\xfcfen Sie alle Eingabefelder.","selectSalesChannel":"Bitte w\xe4hlen Sie einen Sales Channel."}},"reload":{"success":"Die Profile-Konfiguration wurde erfolgreich neu geladen","error":"Beim Neuladen der Profile-Konfiguration ist ein Fehler aufgetreten"}}}}}'),k=JSON.parse('{"ratepay":{"profileConfig":{"componentTitle":"Ratepay Profile Configuration","global":{"labels":{"profile_id":"Profile ID","security_code":"Security Code","sales_channel":"Sales Channel","sandbox":"Test-Mode","backend":"For admin orders","status":"Status","active":"Active","inactive":"Inactive","onlyAdminOrders":"Only for admin orders"}},"page":{"list":{"createButton":"Add Profile"},"detail":{"cancelButtonText":"Cancel","saveButtonText":"Save","reloadConfig":"Reload config"},"tabs":{"general":{"title":"General","table":{"label":{"countryCodeBilling":"allowed countries (billing address)","countryCodeDelivery":"allowed countries (delivery address)","currency":"currency","errorDefault":"default error message","updatedAt":"last update"}}},"invoice":{"title":"Invoice"},"prepayment":{"title":"Prepayment"},"debit":{"title":"Debit"},"installment":{"title":"Instalment"},"installment_zero_percent":{"title":"0% Financing"}},"paymentConfig":{"table":{"label":{"allowB2b":"allow B2B","limitMin":"min. amount","limitMax":"max. amount","limitMaxB2b":"max. amount (B2B)","allowDifferentAddresses":"allow different addresses","installmentHeading":"Installment","installment":{"allowedMonths":"available months","isBankTransferAllowed":"is bank transfer allowed","isDebitAllowed":"is debit allowed","rateMin":"min. monthly rate","defaultPaymentType":"default payment type","defaultInterestRate":"default interest rate","serviceCharge":"service charge"}}}}},"messages":{"save":{"success":"The profile configuration has been saved","error":{"title":"Error while saving the profile configuration","message":"Please verify all input fields.","selectSalesChannel":"Please select a sales channel."}},"reload":{"success":"The profile configuration has been reloaded","error":"Error while reloading the profile configuration"}}}}}');let{Module:I}=Shopware;I.register("ratepay-profile-config",{type:"plugin",name:"profile-config",title:"ratepay.profileConfig.componentTitle",icon:"regular-cog",color:"#e4233e",entity:"ratepay_profile_config",snippets:{"de-DE":M,"en-GB":k},routes:{list:{component:"ratepay-profile-config-list",path:"list",meta:{parentPath:"sw.settings.index"}},detail:{component:"ratepay-profile-config-detail",path:"detail/:id",meta:{parentPath:"ratepay.profile.config.list"}},create:{component:"ratepay-profile-config-create",path:"create",meta:{parentPath:"ratepay.profile.config.list"}}},settingsItem:[{to:"ratepay.profile.config.list",group:"plugins",iconComponent:"ratepay-plugin-icon"}]});let E=Shopware.Classes.ApiService;class L extends E{constructor(e,t){super(e,t,"_action"),this.httpClient=e,this.loginService=t,this.name="ratepayOrderManagementService"}_getPath(e,t){return this.getApiBasePath()+"/order/"+e+"/ratepay/"+t}load(e){return this.httpClient.get(this._getPath(e,"info"),{headers:this.getBasicHeaders()}).then(e=>e.data)}doAction(e,t,a,n){return this.httpClient.post(this._getPath(t,e),{items:a,updateStock:"boolean"==typeof n?n:null},{headers:this.getBasicHeaders()}).then(e=>e.data)}addItem(e,t,a,n){return this.httpClient.post(this._getPath(e,"addItem"),{name:t,grossAmount:a,taxId:n},{headers:this.getBasicHeaders()}).then(e=>e.data)}}Shopware.Application.addServiceProvider("ratepay-order-management-service",e=>new L(Shopware.Application.getContainer("init").httpClient,e.loginService));let $=Shopware.Classes.ApiService;class N extends ${constructor(e,t){super(e,t,"_action/ratepay/profile-configuration"),this.httpClient=e,this.loginService=t,this.name="ratepayConfigService"}reloadConfig(e){return this.httpClient.post(this.getApiBasePath()+"/reload-config",{id:e},{headers:this.getBasicHeaders()}).then(e=>e.data)}}Shopware.Application.addServiceProvider("ratepay-profile-config",e=>new N(Shopware.Application.getContainer("init").httpClient,e.loginService));let A=Shopware.Classes.ApiService;class T extends A{constructor(e,t){super(e,t,"_action/ratepay/admin-order"),this.httpClient=e,this.loginService=t,this.name="RatepayAdminOrderTokenAService"}requestTokenUrl(e,t){return this.httpClient.post(this.getApiBasePath()+"/create-storefront-url",{salesChannelId:e,salesChannelDomainId:t},{headers:this.getBasicHeaders()}).then(e=>e.data)}}Shopware.Application.addServiceProvider("ratepayAdminOrderLoginTokenService",e=>new T(Shopware.Application.getContainer("init").httpClient,e.loginService));let{Component:B}=Shopware,{mapState:O}=B.getComponentHelper();Shopware.Component.register("sw-order-detail-ratepay",{template:'{#\n  ~ Copyright (c) Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n<div class="sw-order-detail-ratepay" v-if="order && order.extensions.ratepayData">\n\n    <ratepay-order-details :order="order"></ratepay-order-details>\n\n    <ratepay-order-management :order="order" @reload-entity-data="$refs.ratepayOrderHistory.loadOrderHistory()"></ratepay-order-management>\n\n    <ratepay-order-history-log-grid :order="order" ref="ratepayOrderHistory"></ratepay-order-history-log-grid>\n</div>\n',metaInfo(){return{title:"Ratepay"}},computed:{...O("swOrderDetail",["order"])},created(){this.$emit("loading-change",!1)}}),Shopware.Module.register("sw-order-detail-tab-ratepay",{routeMiddleware(e,t){"sw.order.detail"===t.name&&t.children.push({name:"sw.order.detail.ratepay",path:"/sw/order/detail/:id/ratepay",component:"sw-order-detail-ratepay",meta:{parentPath:"sw.order.detail",meta:{parentPath:"sw.order.index",privilege:"order.viewer"}}}),e(t)}});let{Component:P}=Shopware;P.override("sw-order-line-items-grid",{template:'{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block sw_order_line_items_grid_actions %}\n    {% parent %}\n\n    <sw-modal v-if="showLineItemDeleteRestrictionModal"\n              @modal-close="onCloseLineItemDeleteRestrictionModal">\n        {{ $t(\'order.ratepay.modal.lineItemDeleteRestriction.text\') }}\n    </sw-modal>\n{% endblock %}\n',data(){return{showLineItemDeleteRestrictionModal:!1}},methods:{onDeleteSelectedItems(){this.order.extensions.ratepayData?this.showLineItemDeleteRestrictionModal=!0:this.$super("onDeleteSelectedItems")},onDeleteItem(e,t){this.order.extensions.ratepayData?this.showLineItemDeleteRestrictionModal=!0:this.$super("onConfirmDelete",e,t)},onCloseLineItemDeleteRestrictionModal(){this.showLineItemDeleteRestrictionModal=!1}}}),a(484);let{Component:F}=Shopware;F.register("ratepay-order-details",{template:'{#\n~ Copyright (c) Ratepay GmbH\n~\n~ For the full copyright and license information, please view the LICENSE\n~ file that was distributed with this source code.\n#}\n\n<sw-card\n    :title="$tc(\'ratepay.order-details.title\')"\n    position-identifier="ratepay-order-details-card"\n    class="ratepay-order-details-card"\n>\n    <template #grid>\n        <sw-container rows="auto auto">\n            <sw-card-section secondary slim>\n                <sw-container columns="repeat(auto-fit, minmax(250px, 1fr))" gap="30px 30px">\n\n                    <sw-description-list columns="1fr" grid="1fr">\n                        <dt>{{ $tc(\'ratepay.order-details.transactionId\') }}</dt>\n                        <dd>\n                            <router-link v-bind:to="{ name: \'ratepay.api.log.list\', query: { term: order.extensions.ratepayData.transactionId } }"\n                                         ref="routerLink">\n                                {{ order.extensions.ratepayData.transactionId }}\n                            </router-link>\n                        </dd>\n                        <dt>{{ $tc(\'ratepay.order-details.descriptor\') }}</dt>\n                        <dd>{{ order.extensions.ratepayData.descriptor }}</dd>\n                    </sw-description-list>\n\n                </sw-container>\n            </sw-card-section>\n        </sw-container>\n    </template>\n</sw-card>\n\n',props:["order"]});let{Component:j}=Shopware,{Criteria:z}=Shopware.Data;j.register("ratepay-order-history-log-grid",{template:'{#\n  ~ Copyright (c) Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n<sw-card :title="$tc(\'ratepay.order-log-history.detailBase.ratepayHistoryPanelTitle\')" position-identifier="ratepay-order-log-history">\n        <sw-container slot="grid" type="row">\n            <sw-entity-listing\n                :items="entities"\n                :repository="repository"\n                :columns="columns"\n                :full-page="false"\n                :show-settings="false"\n                :show-selection="false"\n                :show-actions="false"\n                :allow-column-edit="false"\n                :allow-inline-edit="false"\n                :compact-mode="true">\n\n                <template #column-createdAt="{ item }">\n                    {{ dateFilter(item.createdAt, { hour: \'2-digit\', minute: \'2-digit\' }) }}\n                </template>\n\n            </sw-entity-listing>\n        </sw-container>\n</sw-card>\n',inject:["repositoryFactory"],props:["order"],data(){return{repository:null,entities:null}},computed:{dateFilter(){return Shopware.Filter.getByName("date")},columns(){return[{property:"createdAt",dataIndex:"createdAt",label:this.$tc("ratepay.order-log-history.detailBase.column.date"),allowResize:!1},{property:"user",dataIndex:"user",label:this.$tc("ratepay.order-log-history.detailBase.column.user"),allowResize:!1},{property:"event",dataIndex:"event",label:this.$tc("ratepay.order-log-history.detailBase.column.event"),allowResize:!1},{property:"productName",dataIndex:"productName",label:this.$tc("ratepay.order-log-history.detailBase.column.name"),allowResize:!0},{property:"quantity",dataIndex:"quantity",label:this.$tc("ratepay.order-log-history.detailBase.column.count"),allowResize:!0}]}},created(){this.loadOrderHistory()},methods:{loadOrderHistory(){this.repository=this.repositoryFactory.create("ratepay_order_history");let e=new z;e.setLimit(20),e.addFilter(z.equals("orderId",this.order.id)),e.addSorting(z.sort("createdAt","DESC")),this.repository.search(e,Shopware.Context.api).then(e=>{this.entities=e,this.reload=!1})}}}),a(927);let{Component:H,Mixin:q}=Shopware,{Criteria:G}=Shopware.Data;H.register("ratepay-order-management",{template:'{#\n  ~ Copyright (c) Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n<sw-card :title="$tc(\'ratepay.orderManagement.title\')" class="ratepay-article-panel" position-identifier="ratepay-order-management-card">\n    <sw-tabs default-item="shippingCancel" position-identifier="ratepay-order-management">\n        <template #default="{ active }">\n            <sw-tabs-item :active-tab="active" name="shippingCancel">\n                {{ $t(\'ratepay.orderManagement.tab.shippingCancel\') }}\n            </sw-tabs-item>\n            <sw-tabs-item :active-tab="active" name="rtn">\n                {{ $t(\'ratepay.orderManagement.tab.return\') }}\n            </sw-tabs-item>\n        </template>\n\n        <template #content="{ active }">\n            <template v-if="active === \'shippingCancel\'">\n                <div class="button-group">\n                    <sw-button-group>\n                        <sw-button\n                            class="sw-button--small"\n                            @click="onClickResetSelections"\n                            :is-loading="loading.reload">\n                            {{ $t(\'ratepay.orderManagement.action.setZero\') }}\n                        </sw-button>\n                        <sw-button-process\n                            class="sw-button--small"\n                            :is-loading="loading.deliver"\n                            :process-success="processSuccess"\n                            @click="onClickButtonDeliver">\n                            {{ $t(\'ratepay.orderManagement.action.deliverSelection\') }}\n                        </sw-button-process>\n                        <sw-button-process\n                            class="sw-button--small"\n                            :is-loading="loading.cancel"\n                            :process-success="processSuccess"\n                            @click="onClickButtonCancel(false)">\n                            {{ $t(\'ratepay.orderManagement.action.cancelSelection\') }}\n                        </sw-button-process>\n                        <sw-button-process\n                            class="sw-button--small"\n                            :is-loading="loading.cancelWithStock"\n                            :process-success="processSuccess"\n                            @click="onClickButtonCancel(true)">\n                            {{ $t(\'ratepay.orderManagement.action.cancelSelectionWithStock\') }}\n                        </sw-button-process>\n                    </sw-button-group>\n                    <sw-button-group>\n                        <sw-button class="sw-button--small" @click="onShowCreditModal">{{ $t(\'ratepay.orderManagement.action.addCredit\') }}</sw-button>\n                        <sw-button class="sw-button--small"\n                                   @click="onShowDebitModal"\n                                   v-if="order.transactions[0].paymentMethod.formattedHandlerIdentifier.indexOf(\'installment\') < 0"\n                        >{{ $t(\'ratepay.orderManagement.action.addDebit\') }}</sw-button>\n                    </sw-button-group>\n                </div>\n\n                <sw-data-grid\n                    :data-source="items"\n                    :columns="columns"\n                    :show-selection="false"\n                    :show-actions="false"\n                    :show-aettings="false"\n                    :key="loading.list">\n\n                    <template #column-quantity="{ item }">\n                        <sw-select-field v-if="item.position.maxDelivery > 0" v-model:value="item.processDeliveryCancel" value="0">\n                            <option value="0">0</option>\n                            <option v-for="n in item.position.maxDelivery">{{ n }}</option>\n                        </sw-select-field>\n                        <span v-if="item.position.maxDelivery == 0">0</span>\n                    </template>\n\n                    <template #column-unitPrice="{ item }">\n                        {{ currencyFilter(item.unitPrice, order.currency.translated.shortName) }}\n                    </template>\n                    <template #column-totalPrice="{ item }">\n                        {{ currencyFilter(item.totalPrice, order.currency.translated.shortName) }}\n                    </template>\n\n                </sw-data-grid>\n            </template>\n\n            <template v-if="active === \'rtn\'">\n                <div class="button-group">\n                    <sw-button-group>\n                        <sw-button\n                            class="sw-button--small"\n                            @click="onClickResetSelections"\n                            :is-loading="loading.reload">\n                            {{ $t(\'ratepay.orderManagement.action.setZero\') }}\n                        </sw-button>\n                        <sw-button-process\n                            class="sw-button--small"\n                            :is-loading="loading.rtn"\n                            :process-success="processSuccess"\n                            @click="onClickButtonReturn(false)">\n                            {{ $t(\'ratepay.orderManagement.action.returnSelection\') }}\n                        </sw-button-process>\n                        <sw-button-process\n                            class="sw-button--small"\n                            :is-loading="loading.rtnWithStock"\n                            :process-success="processSuccess"\n                            @click="onClickButtonReturn(true)">\n                            {{ $t(\'ratepay.orderManagement.action.returnSelectionWithStock\') }}\n                        </sw-button-process>\n                    </sw-button-group>\n                </div>\n                <sw-data-grid\n                    :data-source="items"\n                    :columns="columns"\n                    :show-selection="false"\n                    :show-actions="false"\n                    :show-settings="false"\n                    :key="loading.list"\n                >\n                    <template #column-quantity="{ item }">\n                        <sw-select-field v-if="item.position.maxReturn > 0" v-model:value="item.processReturn" value="0">\n                            <option value="0">0</option>\n                            <option v-for="n in item.position.maxReturn">{{ n }}</option>\n                        </sw-select-field>\n                        <span v-if="item.position.maxReturn == 0">0</span>\n                    </template>\n                </sw-data-grid>\n            </template>\n        </template>\n    </sw-tabs>\n\n\n    <sw-modal :title="$t(\'ratepay.orderManagement.action.addDebit\')"\n              v-if="addDebit.showModal"\n              @modal-close="onCloseDebitModal">\n        <template>\n            <label>{{ $t(\'ratepay.orderManagement.modal.addDebit.label.name\') }}</label>\n            <sw-text-field v-model:value="addDebit.data.name"></sw-text-field>\n            <label v-if="order.taxStatus == \'net\'">{{ $t(\'ratepay.orderManagement.modal.addDebit.label.amountNet\') }}</label>\n            <label v-if="order.taxStatus == \'gross\'">{{ $t(\'ratepay.orderManagement.modal.addDebit.label.amountGross\') }}</label>\n            <sw-number-field class="rp-price-field" v-model:value="addDebit.data.amount" min="0.01" allow-empty="false"></sw-number-field>\n            <label>{{ $t(\'ratepay.orderManagement.modal.addDebit.label.tax\') }}</label>\n            <sw-select-field name="sw-field--product-taxId"\n                      :placeholder="$tc(\'ratepay.orderManagement.modal.addDebit.placeholder.tax\')"\n                      validation="required"\n                      v-model:value="addDebit.data.taxId"\n                      @change="updateDebitTax">\n                <option v-for="tax in taxes"\n                        :key="tax.id"\n                        :value="tax.id"\n                        :selected="addDebit.data.taxId === tax.id">\n                    {{ getTaxLabel(tax) }}\n                </option>\n            </sw-select-field>\n        </template>\n        <template #modal-footer>\n            <sw-button-process\n                class="sw-button--small"\n                :is-loading="loading.addDebit"\n                :process-success="processSuccess"\n                @click="onClickButtonAddDebit">\n                {{ $t(\'ratepay.orderManagement.action.addDebit\') }}\n            </sw-button-process>\n        </template>\n    </sw-modal>\n\n    <sw-modal :title="$t(\'ratepay.orderManagement.action.addCredit\')"\n              v-if="addCredit.showModal"\n              @modal-close="onCloseCreditModal">\n        <template>\n            <label>{{ $t(\'ratepay.orderManagement.modal.addCredit.label.name\') }}</label>\n            <sw-text-field v-model:value="addCredit.data.name"></sw-text-field>\n            <label v-if="order.taxStatus == \'net\'">{{ $t(\'ratepay.orderManagement.modal.addCredit.label.amountNet\') }}</label>\n            <label v-if="order.taxStatus == \'gross\'">{{ $t(\'ratepay.orderManagement.modal.addCredit.label.amountGross\') }}</label>\n            <sw-number-field class="rp-price-field" v-model:value="addCredit.data.amount" min="0.01" allow-empty="false"></sw-number-field>\n            <label>{{ $t(\'ratepay.orderManagement.modal.addCredit.label.tax\') }}</label>\n            <sw-select-field name="sw-field--product-taxId"\n                      :placeholder="$tc(\'ratepay.orderManagement.modal.addCredit.placeholder.tax\')"\n                      validation="required"\n                      v-model:value="addCredit.data.taxId"\n                      @change="updateCreditTax">\n                <option v-for="tax in taxes"\n                        :key="tax.id"\n                        :value="tax.id"\n                        :selected="addDebit.data.taxId === tax.id">\n                    {{ getTaxLabel(tax) }}\n                </option>\n            </sw-select-field>\n        </template>\n        <template #modal-footer>\n            <sw-button-process\n                class="sw-button--small"\n                :is-loading="loading.addCredit"\n                :process-success="processSuccess"\n                @click="onClickButtonAddCredit">\n                {{ $t(\'ratepay.orderManagement.action.addCredit\') }}\n            </sw-button-process>\n        </template>\n    </sw-modal>\n\n</sw-card>\n\n',inject:{orderManagementService:"ratepay-order-management-service",repositoryFactory:"repositoryFactory"},props:["order"],mixins:[q.getByName("notification")],data(){return{items:[],taxes:[],defaultTax:null,activeTab:"shipping",processSuccess:!1,orderId:null,loading:{list:!0,deliver:!1,cancel:!1,cancelWithStock:!1,rtn:!1,rtnWithStock:!1,reload:!1,addCredit:!1,addDebit:!1},showCreditModal:!1,showDebitModal:!1,addCredit:{showModal:!1,data:{amount:null,name:null,tax:null,taxId:null}},addDebit:{showModal:!1,data:{amount:null,name:null,tax:null,taxId:null}}}},computed:{currencyFilter(){return Shopware.Filter.getByName("currency")},columns(){return[{property:"quantity",label:this.$t("ratepay.orderManagement.table.count"),allowResize:!1,align:"center"},{property:"name",label:this.$t("ratepay.orderManagement.table.articleName"),allowResize:!1},{property:"ordered",label:this.$t("ratepay.orderManagement.table.ordered"),allowResize:!1,align:"center"},{property:"position.delivered",label:this.$t("ratepay.orderManagement.table.delivered"),allowResize:!1,align:"center"},{property:"position.canceled",label:this.$t("ratepay.orderManagement.table.canceled"),allowResize:!1,align:"center"},{property:"position.returned",label:this.$t("ratepay.orderManagement.table.returned"),allowResize:!1,align:"center"},{property:"unitPrice",label:this.$t("ratepay.orderManagement.table.unitPrice"),allowResize:!1,align:"right"},{property:"totalPrice",label:this.$t("ratepay.orderManagement.table.totalPrice"),allowResize:!1,align:"right"}]},taxRepository(){return this.repositoryFactory.create("tax")}},created(){this.loadList(),this.loadTaxes()},methods:{loadList(){return this.loading.list=!0,this.orderManagementService.load(this.order.id).then(e=>new Promise((t,a)=>{e.data&&(this.items=Object.values(e.data),this.items.map(e=>{e.processDeliveryCancel=e.position.maxDelivery.toString(),e.processReturn=e.position.maxReturn.toString()}),this.loading.list=!1),t()}))},loadTaxes(){return this.taxRepository.search(new G(1,500),Shopware.Context.api).then(e=>{this.taxes=e,this.defaultTax=e[0],this.initCredit(),this.initDebit()})},initCredit(){this.addCredit.data.tax=this.defaultTax,this.addCredit.data.taxId=this.defaultTax.id},initDebit(){this.addDebit.data.tax=this.defaultTax,this.addDebit.data.taxId=this.defaultTax.id},updateCreditTax(){this.addCredit.data.taxId&&(this.addCredit.data.tax=this.taxes.get(this.addCredit.data.taxId))},updateDebitTax(){this.addDebit.data.taxId&&(this.addDebit.data.tax=this.taxes.get(this.addDebit.data.taxId))},onClickButtonDeliver(){this.loading.deliver=!0,this.orderManagementService.doAction("deliver",this.order.id,this.getProcessShippingCancelData()).then(()=>{this.showMessage(null,"deliver"),this.loadList().then(()=>{this.loading.deliver=!1,this.$emit("reload-entity-data")})}).catch(e=>{this.loading.deliver=!1,this.showMessage(e,"deliver")})},onClickButtonCancel(e){!1===e?this.loading.cancel=!0:this.loading.cancelWithStock=!0,this.orderManagementService.doAction("cancel",this.order.id,this.getProcessShippingCancelData(),e).then(()=>{this.showMessage(null,"cancel"),this.loadList().then(()=>{this.loading.cancel=!1,this.loading.cancelWithStock=!1,this.$emit("reload-entity-data")})}).catch(e=>{this.loading.cancel=!1,this.loading.cancelWithStock=!1,this.showMessage(e,"cancel")})},onClickButtonReturn(e){!1===e?this.loading.rtn=!0:this.loading.rtnWithStock=!0,this.orderManagementService.doAction("refund",this.order.id,this.getProcessReturnData(),e).then(()=>{this.showMessage(null,"return"),this.loadList().then(()=>{this.loading.rtn=!1,this.loading.rtnWithStock=!1,this.$emit("reload-entity-data")})}).catch(e=>{this.loading.rtn=!1,this.loading.rtnWithStock=!1,this.showMessage(e,"return")})},onClickResetSelections(){this.loading.reload=!0,this.loadList().then(()=>{this.loading.reload=!1,this.items.forEach(function(e,t){e.processDeliveryCancel="0",e.processReturn="0"})})},onClickButtonAddDebit(){if(this.loading.addDebit=!0,!this.validateCreditDebit(this.addDebit.data)){this.loading.addDebit=!1;return}this.orderManagementService.addItem(this.order.id,this.addDebit.data.name,this.addDebit.data.amount,this.addDebit.data.taxId).then(()=>{this.showMessage(null,"addDebit"),this.loadList().then(()=>{this.onCloseDebitModal(),this.loading.addDebit=!1,this.$emit("reload-entity-data"),this.initDebit()}),this.addDebit.data.name=null,this.addDebit.data.amount=null,this.addDebit.data.taxId=null}).catch(e=>{this.loading.addDebit=!1,this.showMessage(e,"addDebit")})},onClickButtonAddCredit(){if(this.loading.addCredit=!0,!this.validateCreditDebit(this.addCredit.data)){this.loading.addCredit=!1;return}this.orderManagementService.addItem(this.order.id,this.addCredit.data.name,-1*this.addCredit.data.amount,this.addCredit.data.taxId).then(()=>{this.showMessage(null,"addCredit"),this.loadList().then(()=>{this.onCloseCreditModal(),this.loading.addCredit=!1,this.$emit("reload-entity-data"),this.initCredit()}),this.addCredit.data.name=null,this.addCredit.data.amount=null,this.addCredit.data.taxId=null}).catch(e=>{this.loading.addCredit=!1,this.showMessage(e,"addCredit")})},validateCreditDebit(e){return e.taxId?e.name?!(e.amount<=0)||(this.showMessage(this.$tc("ratepay.orderManagement.messages.creditDebitValidation.amountTooLow")),!1):(this.showMessage(this.$tc("ratepay.orderManagement.messages.creditDebitValidation.missingName")),!1):(this.showMessage(this.$tc("ratepay.orderManagement.messages.creditDebitValidation.missingTax")),!1)},showMessage(e,t){if(null===e&&"string"==typeof t){this.createNotificationSuccess({title:this.$tc("ratepay.orderManagement.messages.successTitle"),message:this.$tc("ratepay.orderManagement.messages."+t+".success")});return}if("string"==typeof e){this.createNotificationError({title:this.$tc("ratepay.orderManagement.messages.failedTitle"),message:e});return}let a=e.response;a?.data?.errors?a.data.errors.forEach((e,t)=>{let a=e.detail;this.$te("ratepay.errors."+e.code)&&(a=this.$tc("ratepay.errors."+e.code)),this.createNotificationError({title:e.title??this.$tc("ratepay.orderManagement.messages.failedTitle"),message:a})}):this.showMessage(a?.data?.message??e.message??this.$tc("ratepay.orderManagement.messages.failedTitle"))},getProcessShippingCancelData(){let e=[];return this.items.forEach(function(t,a){void 0!==t.processDeliveryCancel&&t.processDeliveryCancel>0&&e.push({id:t.id,quantity:t.processDeliveryCancel})}),e},getProcessReturnData(){let e=[];return this.items.forEach(function(t,a){void 0!==t.processReturn&&t.processReturn>0&&e.push({id:t.id,quantity:t.processReturn})}),e},onShowDebitModal(){this.addDebit.showModal=!0},onCloseDebitModal(){this.addDebit.showModal=!1},onShowCreditModal(){this.addCredit.showModal=!0},onCloseCreditModal(){this.addCredit.showModal=!1},getTaxLabel(e){return e?this.$te(`global.tax-rates.${e.name}`)?this.$tc(`global.tax-rates.${e.name}`):e.name:""}}});let{Component:U}=Shopware;U.override("sw-order-list",{template:'{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n{% block sw_order_list_smart_bar_actions_add %}\n    {% parent %}\n\n    {% block sw_order_list_smart_bar_actions_add_ratepay %}\n        <sw-button @click="openRatepayCreateOrderModal">\n            {{ $t(\'order.ratepay.create-order.newButtonText\') }}\n        </sw-button>\n    {% endblock %}\n{% endblock %}\n\n{% block sw_order_list_content_slot %}\n     {% parent %}\n    <sw-modal :title="$tc(\'order.ratepay.create-order.newButtonText\')"\n              v-if="ratepayCreateOrderModal"\n              @modal-close="ratepayCreateOrderModal = null">\n        <ratepay-admin-create-order-form></ratepay-admin-create-order-form>\n    </sw-modal>\n{% endblock %}\n\n{% block sw_order_list_delete_modal_confirm_delete_text %}\n    <p v-if="item.extensions.ratepayData">\n        {{ $tc(\'order.ratepay.modal.orderDeleteRestriction.text\') }}\n    </p>\n    <p v-else class="sw-order-list__confirm-delete-text">\n        {{ $tc(\'sw-order.list.textDeleteConfirm\', 0, { orderNumber: `${item.orderNumber}` }) }}\n    </p>\n{% endblock %}\n\n{% block sw_order_list_delete_modal_confirm %}\n    <sw-button @click="onConfirmDelete(item.id)" :disabled="item.extensions.ratepayData !== undefined" variant="danger" size="small">\n        {{ $tc(\'sw-order.list.buttonDelete\') }}\n    </sw-button>\n{% endblock %}\n\n',data(){return{ratepayCreateOrderModal:!1,salesChannels:null}},methods:{openRatepayCreateOrderModal(){this.ratepayCreateOrderModal=!0}}});var V=JSON.parse('{"sw-order":{"detail":{"ratepay":"Ratepay"}}}'),W=JSON.parse('{"sw-order":{"detail":{"ratepay":"Ratepay"}}}');let{Component:Z,State:K}=Shopware;Z.override("sw-order-detail",{template:"{#\n  ~ Copyright (c) Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block sw_order_detail_content_tabs_extension %}\n    {% parent %}\n\n    {% block sw_order_detail_content_tabs_ratepay %}\n        <sw-tabs-item\n            v-if=\"order && 'extensions' in order && 'ratepayData' in order.extensions\"\n            class=\"sw-order-detail__tabs-tab-ratepay\"\n            :route=\"{ name: 'sw.order.detail.ratepay', params: { id: $route.params.id } }\"\n            :title=\"$tc('sw-order.detail.ratepay')\"\n        >\n            {{ $tc('sw-order.detail.ratepay') }}\n        </sw-tabs-item>\n    {% endblock %}\n\n{% endblock %}\n",snippets:{"de-DE":V,"en-GB":W},methods:{createdComponent(){this.$super("createdComponent"),this._65to64LoadOrderBackwardCompatibility()},_65to64LoadOrderBackwardCompatibility(){this.versionContext||this.order&&this.order.id===this.orderId||(K.commit("swOrderDetail/setLoading",["order",!0]),this.orderRepository.get(this.orderId,Shopware.Context.api,this.orderCriteria).then(e=>{K.commit("swOrderDetail/setOrder",e)}))}}})}()})();
//# sourceMappingURL=rpay-payments.js.map