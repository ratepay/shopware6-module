(this.webpackJsonp=this.webpackJsonp||[]).push([["rpay-payments"],{"+Qdk":function(e,t){e.exports='{% block sw_search_bar_item_cms_page %}\n    {% parent %}\n\n    {% block sw_search_bar_item_ratepay_api_log %}\n        <router-link v-else-if="type === \'ratepay_api_log\'"\n                     v-bind:to="{ name: \'ratepay.api.log.list\', query: { logId: item.id, term: searchTerm } }"\n                     ref="routerLink"\n                     class="sw-search-bar-item__link">\n            {% block sw_search_bar_item_ratepay_api_log_label %}\n                <span class="sw-search-bar-item__label ratepay-api-log-search-result">\n                    <div>\n                        <sw-highlight-text v-bind:searchTerm="searchTerm"\n                                           v-bind:text="item.additionalData.transactionId">\n                        </sw-highlight-text>\n                        <span>({{ item.operation }})</span>\n                    </div>\n                    <div class="order-info" v-if="item.additionalData.orderNumber">\n                        <span class="order-info--number">{{ item.additionalData.orderNumber }}</span>\n                        <span v-if="item.additionalData.mail" class="order-info--mail">{{ item.additionalData.mail }}</span>\n                        <span v-if="item.additionalData.firstName" class="order-info--name">{{ item.additionalData.firstName }} {{ item.additionalData.lastName }}</span>\n                    </div>\n                </span>\n            {% endblock %}\n        </router-link>\n    {% endblock %}\n{% endblock %}\n'},"0eyU":function(e,t,n){var a=n("43+G");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("43968018",a,!0,{})},"43+G":function(e,t,n){},"4oLC":function(e,t,n){var a=n("Pg+5");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("098d3df6",a,!0,{})},"6+DK":function(e,t,n){},"8W92":function(e,t){e.exports='{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n<sw-card :title="$tc(\'ratepay.order-log-history.detailBase.ratepayHistoryPanelTitle\')">\n\n        <sw-container slot="grid" type="row">\n            <sw-entity-listing\n                :items="entities"\n                :repository="repository"\n                :columns="columns"\n                :fullPage="false"\n                :showSettings="false"\n                :showSelection="false"\n                :showActions="false"\n                :allowColumnEdit="false"\n                :allowInlineEdit="false"\n                :compactMode="true">\n\n                <template slot="column-createdAt" slot-scope="{ item }">\n                    {{ item.createdAt| date({hour: \'2-digit\', minute: \'2-digit\'}) }}\n                </template>\n\n            </sw-entity-listing>\n\n\n        </sw-container>\n\n</sw-card>\n'},"9O2Z":function(e,t){e.exports=function(e,t={}){function n(){return r()||function(){const e=l(/^([^<]+)/);if(e){const n={type:"Text",content:e[1]};return{excluded:!1===t.filter(n),node:n}}}()||o()||function(){const e=l(/^<!\[CDATA\[[^\]\]>]*]]>/);if(e){const n={type:"CDATA",content:e[0]};return{excluded:!1===t.filter(n),node:n}}}()}function a(){return l(/\s*/),r(!0)||o()||function(){const e=l(/^<!DOCTYPE\s+[^>]*>/);if(e){const n={type:"DocumentType",content:e[0]};return{excluded:!1===t.filter(n),node:n}}}()||i(!1)}function i(e){const n=l(e?/^<\?(xml)\s*/:/^<\?([\w-:.]+)\s*/);if(!n)return;const a={name:n[1],type:"ProcessingInstruction",attributes:{}};for(;!c()&&!d("?>");){const e=s();if(!e)return a;a.attributes[e.name]=e.value}return l(/\?>/),{excluded:!e&&!1===t.filter(a),node:a}}function r(e){const a=l(/^<([\w-:.]+)\s*/);if(!a)return;const i={type:"Element",name:a[1],attributes:{},children:[]};for(;!(c()||d(">")||d("?>")||d("/>"));){const e=s();if(!e)return i;i.attributes[e.name]=e.value}const r=!e&&!1===t.filter(i);if(l(/^\s*\/>/))return i.children=null,{excluded:r,node:i};if(l(/\??>/),!r){let e=n();for(;e;)e.excluded||i.children.push(e.node),e=n()}return l(/^<\/[\w-:.]+>/),{excluded:r,node:i}}function o(){const e=l(/^<!--[\s\S]*?-->/);if(e){const n={type:"Comment",content:e[0]};return{excluded:!1===t.filter(n),node:n}}}function s(){const e=l(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);var t;if(e)return{name:e[1],value:(t=e[2],t.replace(/^['"]|['"]$/g,""))}}function l(t){const n=e.match(t);if(n)return e=e.slice(n[0].length),n}function c(){return 0===e.length}function d(t){return 0===e.indexOf(t)}return t.filter=t.filter||(()=>!0),e=e.trim(),function(){const e=i(!0),t=[];let n,r=a();for(;r;){if("Element"===r.node.type){if(n)throw new Error("Found multiple root nodes");n=r.node}r.excluded||t.push(r.node),r=a()}if(!n)throw new Error("Failed to parse XML");return{declaration:e?e.node:null,root:n,children:t}}()}},BZ2C:function(e,t){e.exports='{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block ratepay_profile_config_list %}\n<sw-page class="ratepay-profile-config-list">\n\n    <template slot="smart-bar-header">\n        <h2>{{ $t(\'ratepay.profileConfig.componentTitle\') }}</h2>\n    </template>\n\n    {% block ratepay_profile_config_list_smart_bar_actions %}\n        <template slot="smart-bar-actions">\n            <sw-button variant="primary" :routerLink="{ name: \'ratepay.profile.config.create\' }">\n                {{ $t(\'ratepay.profileConfig.page.list.createButton\') }}\n            </sw-button>\n        </template>\n    {% endblock %}\n\n    <template slot="content">\n        {% block ratepay_profile_config_list_content %}\n            <sw-entity-listing\n                v-if="entities"\n                :items="entities"\n                :repository="repository"\n                :showSelection="false"\n                :columns="columns"\n                :identifier="\'ratepay-profile-config-list\'"\n                detailRoute="ratepay.profile.config.detail">\n\n                <template slot="column-status" slot-scope="{ item }">\n                    <sw-color-badge color="red" v-if="item.status === false" ></sw-color-badge>\n                    <span v-if="item.status === false">&nbsp;&nbsp;{{ $t(\'ratepay.profileConfig.global.labels.inactive\') }}</span>\n                    <sw-color-badge color="green" v-if="item.status === true"></sw-color-badge>\n                    <span v-if="item.status === true">&nbsp;&nbsp;{{ $t(\'ratepay.profileConfig.global.labels.active\') }}</span>\n                </template>\n\n                <template slot="column-backend" slot-scope="{ item }">\n                    <span v-if="item.backend">{{ $t(\'global.default.yes\') }}</span>\n                    <span v-if="!item.backend">{{ $t(\'global.default.no\') }}</span>\n                </template>\n\n                <template slot="column-salesChannel" slot-scope="{ item }">\n                    {{ item.salesChannel.name }}\n                </template>\n            </sw-entity-listing>\n        {% endblock %}\n    </template>\n</sw-page>\n{% endblock %}\n'},CRlb:function(e,t){const{Component:n}=Shopware;n.extend("ratepay-profile-config-create","ratepay-profile-config-detail",{methods:{loadEntity(){return this.entity=this.repository.create(Shopware.Context.api),new Promise((e,t)=>{e(this.entity)})},onClickSave(){this.isLoading=!0,this.repository.save(this.entity,Shopware.Context.api).then(()=>{this.isLoading=!1,this.createNotificationSuccess({title:this.$tc("ratepay.profileConfig.messages.save.success"),message:this.$tc("ratepay.profileConfig.messages.save.success")}),this.$router.push({name:"ratepay.profile.config.detail",params:{id:this.entity.id,reloadConfig:!0}})}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$t("ratepay.profileConfig.messages.save.error.title"),message:this.$t("ratepay.profileConfig.messages.save.error.message")})})}}})},CkOj:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("lSNA"),i=n.n(a),r=n("lO2t"),o=n("lYO9");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){var t=function(e){var t;if(r.a.isString(e))try{t=JSON.parse(e)}catch(e){return!1}else{if(!r.a.isObject(e)||r.a.isArray(e))return!1;t=e}return t}(e);if(!t)return null;if(!0===t.parsed||!function(e){return void 0!==e.data||void 0!==e.errors||void 0!==e.links||void 0!==e.meta}(t))return t;var n=function(e){var t={links:null,errors:null,data:null,associations:null,aggregations:null};if(e.errors)return t.errors=e.errors,t;var n=function(e){var t=new Map;if(!e||!e.length)return t;return e.forEach((function(e){var n="".concat(e.type,"-").concat(e.id);t.set(n,e)})),t}(e.included);if(r.a.isArray(e.data))t.data=e.data.map((function(e){var a=d(e,n);return Object(o.g)(a,"associationLinks")&&(t.associations=l(l({},t.associations),a.associationLinks),delete a.associationLinks),a}));else if(r.a.isObject(e.data)){var a=d(e.data,n);Object.prototype.hasOwnProperty.call(a,"associationLinks")&&(t.associations=l(l({},t.associations),a.associationLinks),delete a.associationLinks),t.data=a}else t.data=null;e.meta&&Object.keys(e.meta).length&&(t.meta=p(e.meta));e.links&&Object.keys(e.links).length&&(t.links=e.links);e.aggregations&&Object.keys(e.aggregations).length&&(t.aggregations=e.aggregations);return t}(t);return n.parsed=!0,n}function d(e,t){var n={id:e.id,type:e.type,links:e.links||{},meta:e.meta||{}};if(e.attributes&&Object.keys(e.attributes).length>0){var a=p(e.attributes);n=l(l({},n),a)}if(e.relationships){var i=function(e,t){var n={},a={};return Object.keys(e).forEach((function(i){var o=e[i];if(o.links&&Object.keys(o.links).length&&(a[i]=o.links.related),o.data){var s=o.data;r.a.isArray(s)?n[i]=s.map((function(e){return u(e,t)})):r.a.isObject(s)?n[i]=u(s,t):n[i]=null}})),{mappedRelations:n,associationLinks:a}}(e.relationships,t);n=l(l(l({},n),i.mappedRelations),{associationLinks:i.associationLinks})}return n}function p(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n],i=n.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}));t[i]=a})),t}function u(e,t){var n="".concat(e.type,"-").concat(e.id);return t.has(n)?d(t.get(n),t):e}},E3mm:function(e,t,n){},FQSF:function(e,t){e.exports="{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block sw_order_detail_base_secondary_info_order_overview_right_column_slot %}\n    <template v-if=\"currentOrder.extensions.ratepayData\">\n        <dt>{{ $tc('sw-order.detailBase.ratepay.transactionId') }}</dt>\n        <dd>{{ currentOrder.extensions.ratepayData.transactionId }}</dd>\n        <dt>{{ $tc('sw-order.detailBase.ratepay.descriptor') }}</dt>\n        <dd>{{ currentOrder.extensions.ratepayData.descriptor }}</dd>\n    </template>\n{% endblock %}\n"},GkLX:function(e,t){e.exports='{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block sw_order_line_items_grid_actions %}\n    {% parent %}\n\n    <sw-modal v-if="showLineItemDeleteRestrictionModal"\n              @modal-close="onCloseLineItemDeleteRestrictionModal">\n        {{ $t(\'order.ratepay.modal.lineItemDeleteRestriction.text\') }}\n    </sw-modal>\n{% endblock %}\n'},HpLX:function(e,t){e.exports='{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block sw_order_detail_base_line_items_card %}\n    {% parent %}\n\n    {% block ratepay_order_management__container %}\n        <ratepay-order-management\n            v-if="order.extensions.ratepayData"\n            v-bind:order="order"\n            @ratepayActionTriggered="onRatepayActionTriggered"\n        >\n        </ratepay-order-management>\n    {% endblock %}\n\n    {% block ratepay_order_history_log__container %}\n        <ratepay-order-history-log-grid\n            v-if="order.extensions.ratepayData"\n            v-bind:order="order"\n            ref="ratepayOrderHistory"\n        >\n        </ratepay-order-history-log-grid>\n    {% endblock %}\n\n{% endblock %}\n'},JuGi:function(e,t){e.exports=function(e){var t={className:"symbol",begin:"&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;"},n={begin:"\\s",contains:[{className:"meta-keyword",begin:"#?[a-z_][a-z1-9_-]+",illegal:"\\n"}]},a=e.inherit(n,{begin:"\\(",end:"\\)"}),i=e.inherit(e.APOS_STRING_MODE,{className:"meta-string"}),r=e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),o={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:"[A-Za-z0-9\\._:-]+",relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[t]},{begin:/'/,end:/'/,contains:[t]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:"<![a-z]",end:">",relevance:10,contains:[n,r,i,a,{begin:"\\[",end:"\\]",contains:[{className:"meta",begin:"<![a-z]",end:">",contains:[n,a,r,i]}]}]},e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},t,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:"<style(?=\\s|>)",end:">",keywords:{name:"style"},contains:[o],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>)",end:">",keywords:{name:"script"},contains:[o],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},o]}]}}},N7jZ:function(e,t){e.exports='{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block sw_order_list_delete_modal_confirm_delete_text %}\n    <p v-if="item.extensions.ratepayData">\n        {{ $tc(\'order.ratepay.modal.orderDeleteRestriction.text\') }}\n    </p>\n    <p v-else class="sw-order-list__confirm-delete-text">\n        {{ $tc(\'sw-order.list.textDeleteConfirm\', 0, { orderNumber: `${item.orderNumber}` }) }}\n    </p>\n{% endblock %}\n\n{% block sw_order_list_delete_modal_confirm %}\n    <sw-button @click="onConfirmDelete(item.id)" :disabled="item.extensions.ratepayData !== undefined" variant="danger" size="small">\n        {{ $tc(\'sw-order.list.buttonDelete\') }}\n    </sw-button>\n{% endblock %}\n'},NzeD:function(e,t,n){var a=n("E3mm");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("2814c0f6",a,!0,{})},"Pg+5":function(e,t,n){},SwLI:function(e,t,n){"use strict";n.r(t);var a=n("lwsE"),i=n.n(a),r=n("W8MJ"),o=n.n(r),s=n("CkOj"),l=function(){function e(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/vnd.api+json";i()(this,e),this.httpClient=t,this.loginService=n,this.apiEndpoint=a,this.contentType=r}return o()(e,[{key:"getList",value:function(t){var n=t.page,a=void 0===n?1:n,i=t.limit,r=void 0===i?25:i,o=t.sortBy,s=t.sortDirection,l=void 0===s?"asc":s,c=t.sortings,d=t.queries,p=t.term,u=t.criteria,g=t.aggregations,h=t.associations,f=t.headers,m=t.versionId,b=t.ids,y=t["total-count-mode"],v=void 0===y?0:y;this.showDeprecationWarning("getList");var w=this.getBasicHeaders(f),C={page:a,limit:r};return c?C.sort=c:o&&o.length&&(C.sort=("asc"===l.toLowerCase()?"":"-")+o),b&&(C.ids=b.join("|")),p&&(C.term=p),u&&(C.filter=[u.getQuery()]),g&&(C.aggregations=g),h&&(C.associations=h),m&&(w=Object.assign(w,e.getVersionHeader(m))),d&&(C.query=d),v&&(C["total-count-mode"]=v),C.term&&C.term.length||C.filter&&C.filter.length||C.aggregations||C.sort||C.queries||C.associations?this.httpClient.post("".concat(this.getApiBasePath(null,"search")),C,{headers:w}).then((function(t){return e.handleResponse(t)})):this.httpClient.get(this.getApiBasePath(),{params:C,headers:w}).then((function(t){return e.handleResponse(t)}))}},{key:"getById",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.showDeprecationWarning("getById"),!t)return Promise.reject(new Error("Missing required argument: id"));var i=n,r=this.getBasicHeaders(a);return this.httpClient.get(this.getApiBasePath(t),{params:i,headers:r}).then((function(t){return e.handleResponse(t)}))}},{key:"updateById",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this.showDeprecationWarning("updateById"),!t)return Promise.reject(new Error("Missing required argument: id"));var r=a,o=this.getBasicHeaders(i);return this.httpClient.patch(this.getApiBasePath(t),n,{params:r,headers:o}).then((function(t){return e.handleResponse(t)}))}},{key:"deleteAssociation",value:function(e,t,n,a){if(this.showDeprecationWarning("deleteAssociation"),!e||!n||!n)return Promise.reject(new Error("Missing required arguments."));var i=this.getBasicHeaders(a);return this.httpClient.delete("".concat(this.getApiBasePath(e),"/").concat(t,"/").concat(n),{headers:i}).then((function(e){return e.status>=200&&e.status<300?Promise.resolve(e):Promise.reject(e)}))}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.showDeprecationWarning("create");var i=n,r=this.getBasicHeaders(a);return this.httpClient.post(this.getApiBasePath(),t,{params:i,headers:r}).then((function(t){return e.handleResponse(t)}))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.showDeprecationWarning("delete"),!e)return Promise.reject(new Error("Missing required argument: id"));var a=Object.assign({},t),i=this.getBasicHeaders(n);return this.httpClient.delete(this.getApiBasePath(e),{params:a,headers:i})}},{key:"clone",value:function(t){return this.showDeprecationWarning("clone"),t?this.httpClient.post("/_action/clone/".concat(this.apiEndpoint,"/").concat(t),null,{headers:this.getBasicHeaders()}).then((function(t){return e.handleResponse(t)})):Promise.reject(new Error("Missing required argument: id"))}},{key:"versionize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.showDeprecationWarning("versionize");var a="/_action/version/".concat(this.apiEndpoint,"/").concat(e),i=Object.assign({},t),r=this.getBasicHeaders(n);return this.httpClient.post(a,{},{params:i,headers:r})}},{key:"mergeVersion",value:function(t,n,a,i){if(this.showDeprecationWarning("mergeVersion"),!t)return Promise.reject(new Error("Missing required argument: id"));if(!n)return Promise.reject(new Error("Missing required argument: versionId"));var r=Object.assign({},a),o=Object.assign(e.getVersionHeader(n),this.getBasicHeaders(i)),s="_action/version/merge/".concat(this.apiEndpoint,"/").concat(n);return this.httpClient.post(s,{},{params:r,headers:o})}},{key:"getApiBasePath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="";return t&&t.length&&(n+="".concat(t,"/")),e&&e.length>0?"".concat(n).concat(this.apiEndpoint,"/").concat(e):"".concat(n).concat(this.apiEndpoint)}},{key:"getBasicHeaders",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={Accept:this.contentType,Authorization:"Bearer ".concat(this.loginService.getToken()),"Content-Type":"application/json"};return Object.assign({},t,e)}},{key:"showDeprecationWarning",value:function(e){Shopware.Utils.debug.warn("".concat(this.apiEndpoint," - Api Service"),"The ".concat(e," function is deprecated. Please use the 'repository.data.js' class for data handling of entities."))}},{key:"getApiVersion",value:function(){return Shopware.Context.api.apiVersion-1}},{key:"apiEndpoint",get:function(){return this.endpoint},set:function(e){this.endpoint=e}},{key:"httpClient",get:function(){return this.client},set:function(e){this.client=e}},{key:"contentType",get:function(){return this.type},set:function(e){this.type=e}}],[{key:"handleResponse",value:function(t){if(null===t.data||void 0===t.data)return t;var n=t.data,a=t.headers;return a&&a["content-type"]&&"application/vnd.api+json"===a["content-type"]&&(n=e.parseJsonApiData(n)),n}},{key:"parseJsonApiData",value:function(e){return Object(s.a)(e)}},{key:"getVersionHeader",value:function(e){return{"sw-version-id":e}}}]),e}();t.default=l},UVvk:function(e){e.exports=JSON.parse('{"global":{"entities":{"ratepay_api_log":"Ratepay API-Logs"},"placeholderSearchBar":{"ratepay_api_log":"Search in Ratepay API-Logs"}},"ratepay":{"apiLog":{"componentTitle":"Ratepay API-Logs","page":{"detail":{"cancelButtonText":"Back"}},"global":{"labels":{"id":"Id","operation":"Operation","subOperation":"Suboperation","result":"Result","transactionId":"Transaction ID","firstName":"First name","lastName":"Last name","createdAt":"Created at","request":"Request","response":"Response","viewLog":"Request / Response","orderNumber":"Order number"}},"modal":{"openTitle":"show request / response","request":{"heading":"Request"},"response":{"heading":"Response"}}}}}')},WAGO:function(e,t){function n(e){Object.freeze(e);var t="function"==typeof e;return Object.getOwnPropertyNames(e).forEach((function(a){!Object.hasOwnProperty.call(e,a)||null===e[a]||"object"!=typeof e[a]&&"function"!=typeof e[a]||t&&("caller"===a||"callee"===a||"arguments"===a)||Object.isFrozen(e[a])||n(e[a])})),e}class a{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data}ignoreMatch(){this.ignore=!0}}function i(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(e,...t){var n={};for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}function o(e){return e.nodeName.toLowerCase()}var s=Object.freeze({__proto__:null,escapeHTML:i,inherit:r,nodeStream:function(e){var t=[];return function e(n,a){for(var i=n.firstChild;i;i=i.nextSibling)3===i.nodeType?a+=i.nodeValue.length:1===i.nodeType&&(t.push({event:"start",offset:a,node:i}),a=e(i,a),o(i).match(/br|hr|img|input/)||t.push({event:"stop",offset:a,node:i}));return a}(e,0),t},mergeStreams:function(e,t,n){var a=0,r="",s=[];function l(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function c(e){r+="<"+o(e)+[].map.call(e.attributes,(function(e){return" "+e.nodeName+'="'+i(e.value)+'"'})).join("")+">"}function d(e){r+="</"+o(e)+">"}function p(e){("start"===e.event?c:d)(e.node)}for(;e.length||t.length;){var u=l();if(r+=i(n.substring(a,u[0].offset)),a=u[0].offset,u===e){s.reverse().forEach(d);do{p(u.splice(0,1)[0]),u=l()}while(u===e&&u.length&&u[0].offset===a);s.reverse().forEach(c)}else"start"===u[0].event?s.push(u[0].node):s.pop(),p(u.splice(0,1)[0])}return r+i(n.substr(a))}});const l=e=>!!e.kind;class c{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=i(e)}openNode(e){if(!l(e))return;let t=e.kind;e.sublanguage||(t=`${this.classPrefix}${t}`),this.span(t)}closeNode(e){l(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class d{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t={kind:e,children:[]};this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{d._collapse(e)}))}}class p extends d{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.kind=t,n.sublanguage=!0,this.add(n)}toHTML(){return new c(this,this.options).value()}finalize(){return!0}}function u(e){return e?"string"==typeof e?e:e.source:null}const g="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",h={begin:"\\\\[\\s\\S]",relevance:0},f={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[h]},m={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[h]},b={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},y=function(e,t,n={}){var a=r({className:"comment",begin:e,end:t,contains:[]},n);return a.contains.push(b),a.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),a},v=y("//","$"),w=y("/\\*","\\*/"),C=y("#","$"),x={className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},k={className:"number",begin:g,relevance:0},S={className:"number",begin:"\\b(0b[01]+)",relevance:0},_={className:"number",begin:"\\b\\d+(\\.\\d+)?(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},D={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[h,{begin:/\[/,end:/\]/,relevance:0,contains:[h]}]}]},M={className:"title",begin:"[a-zA-Z]\\w*",relevance:0},R={className:"title",begin:"[a-zA-Z_]\\w*",relevance:0},E={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0};var O=Object.freeze({__proto__:null,IDENT_RE:"[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:g,BINARY_NUMBER_RE:"\\b(0b[01]+)",RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=function(...e){return e.map(e=>u(e)).join("")}(t,/.*\b/,e.binary,/\b.*/)),r({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:h,APOS_STRING_MODE:f,QUOTE_STRING_MODE:m,PHRASAL_WORDS_MODE:b,COMMENT:y,C_LINE_COMMENT_MODE:v,C_BLOCK_COMMENT_MODE:w,HASH_COMMENT_MODE:C,NUMBER_MODE:x,C_NUMBER_MODE:k,BINARY_NUMBER_MODE:S,CSS_NUMBER_MODE:_,REGEXP_MODE:D,TITLE_MODE:M,UNDERSCORE_TITLE_MODE:R,METHOD_GUARD:E,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}}),I="of and for in not or if then".split(" ");function A(e){function t(t,n){return new RegExp(u(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=function(e){return new RegExp(e.toString()+"|").exec("").length-1}(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(function(e,t="|"){for(var n=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,a=0,i="",r=0;r<e.length;r++){var o=a+=1,s=u(e[r]);for(r>0&&(i+=t),i+="(";s.length>0;){var l=n.exec(s);if(null==l){i+=s;break}i+=s.substring(0,l.index),s=s.substring(l.index+l[0].length),"\\"===l[0][0]&&l[1]?i+="\\"+String(Number(l[1])+o):(i+=l[0],"("===l[0]&&a++)}i+=")"}return i}(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),a=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,a)}}class a{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;const n=t.exec(e);return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&(this.regexIndex=0)),n}}function i(e,t){const n=e.input[e.index-1],a=e.input[e.index+e[0].length];"."!==n&&"."!==a||t.ignoreMatch()}if(e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return function n(o,s){const l=o;if(o.compiled)return l;o.compiled=!0,o.__beforeBegin=null,o.keywords=o.keywords||o.beginKeywords;let c=null;if("object"==typeof o.keywords&&(c=o.keywords.$pattern,delete o.keywords.$pattern),o.keywords&&(o.keywords=function(e,t){var n={};"string"==typeof e?a("keyword",e):Object.keys(e).forEach((function(t){a(t,e[t])}));return n;function a(e,a){t&&(a=a.toLowerCase()),a.split(" ").forEach((function(t){var a=t.split("|");n[a[0]]=[e,N(a[0],a[1])]}))}}(o.keywords,e.case_insensitive)),o.lexemes&&c)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return l.keywordPatternRe=t(o.lexemes||c||/\w+/,!0),s&&(o.beginKeywords&&(o.begin="\\b("+o.beginKeywords.split(" ").join("|")+")(?=\\b|\\s)",o.__beforeBegin=i),o.begin||(o.begin=/\B|\b/),l.beginRe=t(o.begin),o.endSameAsBegin&&(o.end=o.begin),o.end||o.endsWithParent||(o.end=/\B|\b/),o.end&&(l.endRe=t(o.end)),l.terminator_end=u(o.end)||"",o.endsWithParent&&s.terminator_end&&(l.terminator_end+=(o.end?"|":"")+s.terminator_end)),o.illegal&&(l.illegalRe=t(o.illegal)),void 0===o.relevance&&(o.relevance=1),o.contains||(o.contains=[]),o.contains=[].concat(...o.contains.map((function(e){return function(e){e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map((function(t){return r(e,{variants:null},t)})));if(e.cached_variants)return e.cached_variants;if(function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(e))return r(e,{starts:e.starts?r(e.starts):null});if(Object.isFrozen(e))return r(e);return e}("self"===e?o:e)}))),o.contains.forEach((function(e){n(e,l)})),o.starts&&n(o.starts,s),l.matcher=function(e){const t=new a;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminator_end&&t.addRule(e.terminator_end,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(l),l}(e)}function N(e,t){return t?Number(t):function(e){return I.includes(e.toLowerCase())}(e)?0:1}const L=i,$=r,{nodeStream:B,mergeStreams:T}=s,P=Symbol("nomatch");var j=function(e){var t=[],i=Object.create(null),r=Object.create(null),o=[],s=!0,l=/(^(<[^>]+>|\t|)+|\n)/gm,c="Could not find the language '{}', did you forget to load/include a language module?";const d={disableAutodetect:!0,name:"Plain text",contains:[]};var u={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:p};function g(e){return u.noHighlightRe.test(e)}function h(e,t,n,a){var i={code:t,language:e};k("before:highlight",i);var r=i.result?i.result:f(i.language,i.code,n,a);return r.code=i.code,k("after:highlight",r),r}function f(e,t,n,r){var o=t;function l(e,t){var n=C.case_insensitive?t[0].toLowerCase():t[0];return Object.prototype.hasOwnProperty.call(e.keywords,n)&&e.keywords[n]}function d(){null!=S.subLanguage?function(){if(""!==M){var e=null;if("string"==typeof S.subLanguage){if(!i[S.subLanguage])return void D.addText(M);e=f(S.subLanguage,M,!0,_[S.subLanguage]),_[S.subLanguage]=e.top}else e=m(M,S.subLanguage.length?S.subLanguage:null);S.relevance>0&&(R+=e.relevance),D.addSublanguage(e.emitter,e.language)}}():function(){if(!S.keywords)return void D.addText(M);let e=0;S.keywordPatternRe.lastIndex=0;let t=S.keywordPatternRe.exec(M),n="";for(;t;){n+=M.substring(e,t.index);const a=l(S,t);if(a){const[e,i]=a;D.addText(n),n="",R+=i,D.addKeyword(t[0],e)}else n+=t[0];e=S.keywordPatternRe.lastIndex,t=S.keywordPatternRe.exec(M)}n+=M.substr(e),D.addText(n)}(),M=""}function p(e){return e.className&&D.openNode(e.className),S=Object.create(e,{parent:{value:S}})}function g(e){return 0===S.matcher.regexIndex?(M+=e[0],1):(I=!0,0)}function h(e){var t=e[0],n=e.rule;const i=new a(n),r=[n.__beforeBegin,n["on:begin"]];for(const n of r)if(n&&(n(e,i),i.ignore))return g(t);return n&&n.endSameAsBegin&&(n.endRe=new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),n.skip?M+=t:(n.excludeBegin&&(M+=t),d(),n.returnBegin||n.excludeBegin||(M=t)),p(n),n.returnBegin?0:t.length}function b(e){var t=e[0],n=o.substr(e.index),i=function e(t,n,i){let r=function(e,t){var n=e&&e.exec(t);return n&&0===n.index}(t.endRe,i);if(r){if(t["on:end"]){const e=new a(t);t["on:end"](n,e),e.ignore&&(r=!1)}if(r){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return e(t.parent,n,i)}(S,e,n);if(!i)return P;var r=S;r.skip?M+=t:(r.returnEnd||r.excludeEnd||(M+=t),d(),r.excludeEnd&&(M=t));do{S.className&&D.closeNode(),S.skip||S.subLanguage||(R+=S.relevance),S=S.parent}while(S!==i.parent);return i.starts&&(i.endSameAsBegin&&(i.starts.endRe=i.endRe),p(i.starts)),r.returnEnd?0:t.length}var y={};function v(t,a){var i=a&&a[0];if(M+=t,null==i)return d(),0;if("begin"===y.type&&"end"===a.type&&y.index===a.index&&""===i){if(M+=o.slice(a.index,a.index+1),!s){const t=new Error("0 width match regex");throw t.languageName=e,t.badRule=y.rule,t}return 1}if(y=a,"begin"===a.type)return h(a);if("illegal"===a.type&&!n){const e=new Error('Illegal lexeme "'+i+'" for mode "'+(S.className||"<unnamed>")+'"');throw e.mode=S,e}if("end"===a.type){var r=b(a);if(r!==P)return r}if("illegal"===a.type&&""===i)return 1;if(O>1e5&&O>3*a.index){throw new Error("potential infinite loop, way more iterations than matches")}return M+=i,i.length}var C=w(e);if(!C)throw console.error(c.replace("{}",e)),new Error('Unknown language: "'+e+'"');var x=A(C),k="",S=r||x,_={},D=new u.__emitter(u);!function(){for(var e=[],t=S;t!==C;t=t.parent)t.className&&e.unshift(t.className);e.forEach(e=>D.openNode(e))}();var M="",R=0,E=0,O=0,I=!1;try{for(S.matcher.considerAll();;){O++,I?I=!1:(S.matcher.lastIndex=E,S.matcher.considerAll());const e=S.matcher.exec(o);if(!e)break;const t=v(o.substring(E,e.index),e);E=e.index+t}return v(o.substr(E)),D.closeAllNodes(),D.finalize(),k=D.toHTML(),{relevance:R,value:k,language:e,illegal:!1,emitter:D,top:S}}catch(t){if(t.message&&t.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:t.message,context:o.slice(E-100,E+100),mode:t.mode},sofar:k,relevance:0,value:L(o),emitter:D};if(s)return{illegal:!1,relevance:0,value:L(o),emitter:D,language:e,top:S,errorRaised:t};throw t}}function m(e,t){t=t||u.languages||Object.keys(i);var n=function(e){const t={relevance:0,emitter:new u.__emitter(u),value:L(e),illegal:!1,top:d};return t.emitter.addText(e),t}(e),a=n;return t.filter(w).filter(x).forEach((function(t){var i=f(t,e,!1);i.language=t,i.relevance>a.relevance&&(a=i),i.relevance>n.relevance&&(a=n,n=i)})),a.language&&(n.second_best=a),n}function b(e){return u.tabReplace||u.useBR?e.replace(l,e=>"\n"===e?u.useBR?"<br>":e:u.tabReplace?e.replace(/\t/g,u.tabReplace):e):e}function y(e){let t=null;const n=function(e){var t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=u.languageDetectRe.exec(t);if(n){var a=w(n[1]);return a||(console.warn(c.replace("{}",n[1])),console.warn("Falling back to no-highlight mode for this block.",e)),a?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>g(e)||w(e))}(e);if(g(n))return;k("before:highlightBlock",{block:e,language:n}),u.useBR?(t=document.createElement("div"),t.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n")):t=e;const a=t.textContent,i=n?h(n,a,!0):m(a),o=B(t);if(o.length){const e=document.createElement("div");e.innerHTML=i.value,i.value=T(o,B(e),a)}i.value=b(i.value),k("after:highlightBlock",{block:e,result:i}),e.innerHTML=i.value,e.className=function(e,t,n){var a=t?r[t]:n,i=[e.trim()];return e.match(/\bhljs\b/)||i.push("hljs"),e.includes(a)||i.push(a),i.join(" ").trim()}(e.className,n,i.language),e.result={language:i.language,re:i.relevance,relavance:i.relevance},i.second_best&&(e.second_best={language:i.second_best.language,re:i.second_best.relevance,relavance:i.second_best.relevance})}const v=()=>{if(!v.called){v.called=!0;var e=document.querySelectorAll("pre code");t.forEach.call(e,y)}};function w(e){return e=(e||"").toLowerCase(),i[e]||i[r[e]]}function C(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{r[e]=t})}function x(e){var t=w(e);return t&&!t.disableAutodetect}function k(e,t){var n=e;o.forEach((function(e){e[n]&&e[n](t)}))}Object.assign(e,{highlight:h,highlightAuto:m,fixMarkup:b,highlightBlock:y,configure:function(e){u=$(u,e)},initHighlighting:v,initHighlightingOnLoad:function(){window.addEventListener("DOMContentLoaded",v,!1)},registerLanguage:function(t,n){var a=null;try{a=n(e)}catch(e){if(console.error("Language definition for '{}' could not be registered.".replace("{}",t)),!s)throw e;console.error(e),a=d}a.name||(a.name=t),i[t]=a,a.rawDefinition=n.bind(null,e),a.aliases&&C(a.aliases,{languageName:t})},listLanguages:function(){return Object.keys(i)},getLanguage:w,registerAliases:C,requireLanguage:function(e){var t=w(e);if(t)return t;throw new Error("The '{}' language is required, but not loaded.".replace("{}",e))},autoDetection:x,inherit:$,addPlugin:function(e){o.push(e)}}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString="10.1.2";for(const e in O)"object"==typeof O[e]&&n(O[e]);return Object.assign(e,O),e}({});e.exports=j},etsL:function(e,t){e.exports='{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block ratepay_api_log_list %}\n<sw-page class="ratepay-log-viewer-list">\n\n    {% block ratepay_api_log_list_search_bar %}\n        <template #search-bar>\n            <sw-search-bar initialSearchType="ratepay_api_log"\n                           :initialSearch="searchTerm"\n                           @search="onSearch">\n            </sw-search-bar>\n        </template>\n    {% endblock %}\n\n    <template slot="smart-bar-header">\n        <h2>{{ $t(\'ratepay.apiLog.componentTitle\') }}</h2>\n    </template>\n\n    <template slot="content">\n        {% block ratepay_api_log_list_content %}\n            <sw-entity-listing\n                v-if="entities"\n                :items="entities"\n                :repository="repository"\n                :showSelection="false"\n                :columns="columns"\n                :showActions="true"\n                :identifier="\'ratepay-api-log-list\'">\n\n                <template slot="column-createdAt" slot-scope="{ item }">\n                    {{ item.createdAt| date({hour: \'2-digit\', minute: \'2-digit\'}) }}\n                </template>\n\n                <template slot="column-response" slot-scope="{ item }">\n                    <sw-button @click="modalItem = item">\n                        {{ $t(\'ratepay.apiLog.modal.openTitle\') }}\n                    </sw-button>\n                    <sw-modal :title="$t(\'ratepay.apiLog.global.labels.viewLog\')" v-if="modalItem && modalItem.id === item.id" class="ratepay-xml-log-modal" @modal-close="modalItem = null">\n                        <div class="flex-container">\n                            <div>\n                                <span class="heading">{{ $t(\'ratepay.apiLog.modal.request.heading\') }}</span>\n                                <pre class="content" v-html="formatXml(modalItem.request)"></pre>\n                            </div>\n                            <div>\n                                <span class="heading">{{ $t(\'ratepay.apiLog.modal.response.heading\') }}</span>\n                                <pre class="content" v-html="formatXml(modalItem.response)"></pre>\n                            </div>\n                        </div>\n                    </sw-modal>\n                </template>\n\n                <template #delete-action="{ }">\n                    {# remove delete link TODO is there a better solution? #}\n                    <span style="display: none;"></span>\n                </template>\n            </sw-entity-listing>\n        {% endblock %}\n    </template>\n</sw-page>\n{% endblock %}\n'},gi2h:function(e,t){e.exports='{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n{% block ratepay_profile_config_detail %}\n    <sw-page class="ratepay-profile-config-detail">\n        <template slot="smart-bar-actions">\n            <sw-button :routerLink="{ name: \'ratepay.profile.config.list\' }">\n                {{ $t(\'ratepay.profileConfig.page.detail.cancelButtonText\') }}\n            </sw-button>\n\n            <sw-button-process\n                :isLoading="isLoading"\n                :processSuccess="processSuccess"\n                variant="primary"\n                @process-finish="saveFinish"\n                @click="onClickSave">\n                {{ $t(\'ratepay.profileConfig.page.detail.saveButtonText\') }}\n            </sw-button-process>\n\n            <sw-button-process\n                v-if="entity && entity.isNew() === false && entity.status"\n                :key="entity.status"\n                :isLoading="isLoading"\n                :processSuccess="processSuccess"\n                variant="primary"\n                :disabled="disabledReloadButton"\n                @click="onClickReloadConfig">\n                {{ $t(\'ratepay.profileConfig.page.detail.reloadConfig\') }}\n            </sw-button-process>\n        </template>\n\n        <template slot="content">\n            <sw-card-view>\n                <sw-card v-if="entity" :isLoading="isLoading">\n                    <sw-field v-on:change="lockReloadButton" :label="$t(\'ratepay.profileConfig.global.labels.profile_id\')" v-model="entity.profileId" required></sw-field>\n                    <sw-password-field type="password" v-on:change="lockReloadButton" :label="$t(\'ratepay.profileConfig.global.labels.security_code\')" v-model="entity.securityCode" required></sw-password-field>\n                    <sw-switch-field v-on:change="lockReloadButton" :label="$t(\'ratepay.profileConfig.global.labels.sandbox\')" v-model="entity.sandbox"></sw-switch-field>\n                    \x3c!-- Not in use, yet. --\x3e\n                    \x3c!--sw-switch-field v-on:change="lockReloadButton" :label="$t(\'ratepay.profileConfig.global.labels.backend\')" v-model="entity.backend"></sw-switch-field--\x3e\n\n                    <sw-entity-single-select\n                        v-on:change="lockReloadButton"\n                        entity="sales_channel"\n                        :label="$t(\'ratepay.profileConfig.global.labels.sales_channel\')"\n                        v-model="entity.salesChannelId"\n                        labelProperty="name"\n                        required\n                    >\n                    </sw-entity-single-select>\n\n                </sw-card>\n\n                <sw-card v-if="entity && entity.status" :isLoading="isLoading">\n                        <sw-tabs defaultItem="general">\n                            <template #default="{ active }">\n                                <sw-tabs-item :activeTab="active" name="general">\n                                    {{ $t(\'ratepay.profileConfig.page.tabs.general.title\') }}\n                                </sw-tabs-item>\n\n                                <sw-tabs-item v-for="config in entity.paymentMethodConfigs" :activeTab="active" :name="config.paymentMethod.id" :key="config.id">\n                                    {{ config.paymentMethod.name }}\n                                </sw-tabs-item>\n                            </template>\n\n                            <template #content="{ active }">\n                                <table style="text-align: left;" v-show="active === \'general\'">\n                                    <tbody>\n                                    <tr>\n                                        <th>{{ $t(\'ratepay.profileConfig.page.tabs.general.table.label.countryCodeBilling\') }}</th>\n                                        <td>{{ entity.countryCodeBilling.join(\', \') }}</td>\n                                    </tr>\n                                    <tr>\n                                        <th>{{ $t(\'ratepay.profileConfig.page.tabs.general.table.label.countryCodeDelivery\') }}</th>\n                                        <td>{{ entity.countryCodeDelivery.join(\', \') }}</td>\n                                    </tr>\n                                    <tr>\n                                        <th>{{ $t(\'ratepay.profileConfig.page.tabs.general.table.label.currency\') }}</th>\n                                        <td>{{ entity.currency.join(\', \') }}</td>\n                                    </tr>\n                                    <tr>\n                                        <th>{{ $t(\'ratepay.profileConfig.page.tabs.general.table.label.errorDefault\') }}</th>\n                                        <td>{{ entity.errorDefault }}</td>\n                                    </tr>\n                                    <tr>\n                                        <th>{{ $t(\'ratepay.profileConfig.page.tabs.general.table.label.updatedAt\') }}</th>\n                                        <td>{{ entity.updatedAt|date({hour: \'2-digit\', minute: \'2-digit\'}) }}</td>\n                                    </tr>\n                                    </tbody>\n                                </table>\n\n                                <table style="text-align: left;"\n                                       v-for="config in entity.paymentMethodConfigs" v-show="active === config.paymentMethod.id">\n                                    <tbody>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.allowB2b\') }}</th>\n                                            <td>{{ config.allowB2b ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.limitMin\') }}</th>\n                                            <td>{{ config.limitMin }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.limitMax\') }}</th>\n                                            <td>{{ config.limitMax }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.limitMaxB2b\') }}</th>\n                                            <td>{{ config.limitMaxB2b }}</td>\n                                        </tr>\n                                        <tr>\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.allowDifferentAddresses\') }}</th>\n                                            <td>{{ config.allowDifferentAddresses ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th colspan="2" style="padding-top: 15px; border-bottom: 1px solid #ccc;">{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installmentHeading\') }}</th>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.allowedMonths\') }}</th>\n                                            <td>{{ config.installmentConfig.allowedMonths.join(\', \') }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.isBankTransferAllowed\') }}</th>\n                                            <td>{{ config.installmentConfig.isBankTransferAllowed ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.isDebitAllowed\') }}</th>\n                                            <td>{{ config.installmentConfig.isDebitAllowed ? $t(\'global.default.yes\') : $t(\'global.default.no\') }}</td>\n                                        </tr>\n                                        <tr v-if="config.installmentConfig">\n                                            <th>{{ $t(\'ratepay.profileConfig.page.paymentConfig.table.label.installment.rateMin\') }}</th>\n                                            <td>{{ config.installmentConfig.rateMin }}</td>\n                                        </tr>\n                                    </tbody>\n                                </table>\n                            </template>\n                        </sw-tabs>\n\n\n\n                </sw-card>\n            </sw-card-view>\n        </template>\n    </sw-page>\n{% endblock %}\n'},i4py:function(e,t){e.exports='{#\n  ~ Copyright (c) 2020 Ratepay GmbH\n  ~\n  ~ For the full copyright and license information, please view the LICENSE\n  ~ file that was distributed with this source code.\n#}\n\n<sw-card :title="$tc(\'ratepay.orderManagement.title\')" class="ratepay-article-panel">\n    <sw-tabs defaultItem="shippingCancel">\n        <template slot="default" slot-scope="{ active }">\n            <sw-tabs-item :activeTab="active" name="shippingCancel">\n                {{ $t(\'ratepay.orderManagement.tab.shippingCancel\') }}\n            </sw-tabs-item>\n            <sw-tabs-item :activeTab="active" name="rtn">\n                {{ $t(\'ratepay.orderManagement.tab.return\') }}\n            </sw-tabs-item>\n        </template>\n\n        <template slot="content" slot-scope="{ active }">\n            <template v-if="active === \'shippingCancel\'">\n                <div class="button-group">\n                    <sw-button-group>\n                        <sw-button\n                            class="sw-button--small"\n                            @click="onClickResetSelections"\n                            :isLoading="loading.reload">\n                            {{ $t(\'ratepay.orderManagement.action.setZero\') }}\n                        </sw-button>\n                        <sw-button-process\n                            class="sw-button--small"\n                            :isLoading="loading.deliver"\n                            :processSuccess="processSuccess"\n                            @click="onClickButtonDeliver">\n                            {{ $t(\'ratepay.orderManagement.action.deliverSelection\') }}\n                        </sw-button-process>\n                        <sw-button-process\n                            class="sw-button--small"\n                            :isLoading="loading.cancel"\n                            :processSuccess="processSuccess"\n                            @click="onClickButtonCancel(false)">\n                            {{ $t(\'ratepay.orderManagement.action.cancelSelection\') }}\n                        </sw-button-process>\n                        <sw-button-process\n                            class="sw-button--small"\n                            :isLoading="loading.cancelWithStock"\n                            :processSuccess="processSuccess"\n                            @click="onClickButtonCancel(true)">\n                            {{ $t(\'ratepay.orderManagement.action.cancelSelectionWithStock\') }}\n                        </sw-button-process>\n                    </sw-button-group>\n                    <sw-button-group>\n                        <sw-button class="sw-button--small" @click="onShowCreditModal">{{ $t(\'ratepay.orderManagement.action.addCredit\') }}</sw-button>\n                        <sw-button class="sw-button--small"\n                                   @click="onShowDebitModal"\n                                   v-if="order.transactions[0].paymentMethod.formattedHandlerIdentifier.indexOf(\'installment\') < 0"\n                        >{{ $t(\'ratepay.orderManagement.action.addDebit\') }}</sw-button>\n                    </sw-button-group>\n                </div>\n\n                <sw-data-grid\n                    :dataSource="items"\n                    :columns="columns"\n                    :showSelection="false"\n                    :showActions="false"\n                    :showSettings="false"\n                    :key="loading.list">\n\n                    <template slot="column-quantity" slot-scope="{ item }">\n                        <sw-select-field v-if="item.position.maxDelivery > 0" v-model="item.processDeliveryCancel" value="0">\n                            <option value="0">0</option>\n                            <option v-for="n in item.position.maxDelivery">{{ n }}</option>\n                        </sw-select-field>\n                        <span v-if="item.position.maxDelivery == 0">0</span>\n                    </template>\n\n                    <template slot="column-unitPrice" slot-scope="{ item }">\n                        {{ item.unitPrice | currency(order.currency.translated.shortName) }}\n                    </template>\n                    <template slot="column-totalPrice" slot-scope="{ item }">\n                        {{ item.totalPrice | currency(order.currency.translated.shortName) }}\n                    </template>\n\n\n                </sw-data-grid>\n            </template>\n\n            <template v-if="active === \'rtn\'">\n                <div class="button-group">\n                    <sw-button-group>\n                        <sw-button\n                            class="sw-button--small"\n                            @click="onClickResetSelections"\n                            :isLoading="loading.reload">\n                            {{ $t(\'ratepay.orderManagement.action.setZero\') }}\n                        </sw-button>\n                        <sw-button-process\n                            class="sw-button--small"\n                            :isLoading="loading.rtn"\n                            :processSuccess="processSuccess"\n                            @click="onClickButtonReturn(false)">\n                            {{ $t(\'ratepay.orderManagement.action.returnSelection\') }}\n                        </sw-button-process>\n                        <sw-button-process\n                            class="sw-button--small"\n                            :isLoading="loading.rtnWithStock"\n                            :processSuccess="processSuccess"\n                            @click="onClickButtonReturn(true)">\n                            {{ $t(\'ratepay.orderManagement.action.returnSelectionWithStock\') }}\n                        </sw-button-process>\n                    </sw-button-group>\n                </div>\n                <sw-data-grid\n                    :dataSource="items"\n                    :columns="columns"\n                    :showSelection="false"\n                    :showActions="false"\n                    :showSettings="false"\n                    :key="loading.list"\n                >\n                    <template slot="column-quantity" slot-scope="{ item }">\n                        <sw-select-field v-if="item.position.maxReturn > 0" v-model="item.processReturn" value="0">\n                            <option value="0">0</option>\n                            <option v-for="n in item.position.maxReturn">{{ n }}</option>\n                        </sw-select-field>\n                        <span v-if="item.position.maxReturn == 0">0</span>\n                    </template>\n                </sw-data-grid>\n            </template>\n        </template>\n    </sw-tabs>\n\n\n    <sw-modal :title="$t(\'ratepay.orderManagement.action.addDebit\')"\n              v-if="addDebit.showModal"\n              @modal-close="onCloseDebitModal">\n        <template>\n            <label>{{ $t(\'ratepay.orderManagement.modal.addDebit.label.name\') }}</label>\n            <sw-text-field :value="addDebit.data.name" v-model="addDebit.data.name"></sw-text-field>\n            <label>{{ $t(\'ratepay.orderManagement.modal.addDebit.label.tax\') }}</label>\n            <sw-field type="select"\n                      name="sw-field--product-taxId"\n                      :placeholder="$tc(\'ratepay.orderManagement.modal.addDebit.placeholder.tax\')"\n                      validation="required"\n                      v-model="addDebit.data.taxId"\n                      @change="updateDebitTax">\n                <option v-for="tax in taxes"\n                        :key="tax.id"\n                        :value="tax.id"\n                        :selected="addDebit.data.taxId === tax.id">\n                    {{ tax.name }}\n                </option>\n            </sw-field>\n            <sw-price-field class="rp-price-field hide-lock"\n                            :taxRate="addDebit.data.tax"\n                            :price="addDebit.data.amount"\n                            :currency="order.currency"\n                            :grossLabel="$tc(\'ratepay.orderManagement.modal.addDebit.label.amountGross\')"\n                            :netLabel="$tc(\'ratepay.orderManagement.modal.addDebit.label.amountNet\')">\n            </sw-price-field>\n        </template>\n        <template slot="modal-footer">\n            <sw-button-process\n                class="sw-button--small"\n                :isLoading="loading.addDebit"\n                :processSuccess="processSuccess"\n                @click="onClickButtonAddDebit">\n                {{ $t(\'ratepay.orderManagement.action.addDebit\') }}\n            </sw-button-process>\n        </template>\n    </sw-modal>\n\n    <sw-modal :title="$t(\'ratepay.orderManagement.action.addCredit\')"\n              v-if="addCredit.showModal"\n              @modal-close="onCloseCreditModal">\n        <template>\n            <label>{{ $t(\'ratepay.orderManagement.modal.addCredit.label.name\') }}</label>\n            <sw-text-field :value="addCredit.data.name" v-model="addCredit.data.name"></sw-text-field>\n            <label>{{ $t(\'ratepay.orderManagement.modal.addCredit.label.tax\') }}</label>\n            <sw-field type="select"\n                      name="sw-field--product-taxId"\n                      :placeholder="$tc(\'ratepay.orderManagement.modal.addCredit.placeholder.tax\')"\n                      validation="required"\n                      v-model="addCredit.data.taxId"\n                      @change="updateCreditTax">\n                <option v-for="tax in taxes"\n                        :key="tax.id"\n                        :value="tax.id"\n                        :selected="addDebit.data.taxId === tax.id">\n                    {{ tax.name }}\n                </option>\n            </sw-field>\n            <sw-price-field class="rp-price-field hide-lock"\n                            :taxRate="addCredit.data.tax"\n                            :price="addCredit.data.amount"\n                            :currency="order.currency"\n                            :grossLabel="$tc(\'ratepay.orderManagement.modal.addCredit.label.amountGross\')"\n                            :netLabel="$tc(\'ratepay.orderManagement.modal.addCredit.label.amountNet\')">\n            </sw-price-field>\n        </template>\n        <template slot="modal-footer">\n            <sw-button-process\n                class="sw-button--small"\n                :isLoading="loading.addCredit"\n                :processSuccess="processSuccess"\n                @click="onClickButtonAddCredit">\n                {{ $t(\'ratepay.orderManagement.action.addCredit\') }}\n            </sw-button-process>\n        </template>\n    </sw-modal>\n\n</sw-card>\n\n'},iXo7:function(e,t,n){"use strict";n.r(t);var a=n("8W92"),i=n.n(a);const{Component:r}=Shopware,{Criteria:o}=Shopware.Data;r.register("ratepay-order-history-log-grid",{template:i.a,inject:["repositoryFactory"],props:["order"],data:()=>({repository:null,entities:null}),computed:{columns(){return[{property:"createdAt",dataIndex:"createdAt",label:this.$tc("ratepay.order-log-history.detailBase.column.date"),allowResize:!1},{property:"user",dataIndex:"user",label:this.$tc("ratepay.order-log-history.detailBase.column.user"),allowResize:!1},{property:"event",dataIndex:"event",label:this.$tc("ratepay.order-log-history.detailBase.column.event"),allowResize:!1},{property:"productName",dataIndex:"productName",label:this.$tc("ratepay.order-log-history.detailBase.column.name"),allowResize:!0},{property:"quantity",dataIndex:"quantity",label:this.$tc("ratepay.order-log-history.detailBase.column.count"),allowResize:!0}]}},created(){this.loadOrderHistory()},methods:{loadOrderHistory(){this.repository=this.repositoryFactory.create("ratepay_order_history");let e=new o;e.addFilter(o.equals("orderId",this.order.id)),e.addSorting(o.sort("createdAt","DESC")),this.repository.search(e,Shopware.Context.api).then(e=>{this.entities=e,this.reload=!1})}}});var s=n("i4py"),l=n.n(s);n("m+08");const{Component:c,Mixin:d}=Shopware,{Criteria:p}=Shopware.Data;c.register("ratepay-order-management",{template:l.a,inject:{orderManagementService:"ratepay-order-management-service",repositoryFactory:"repositoryFactory"},props:["order"],mixins:[d.getByName("notification")],data:()=>({items:[],taxes:[],defaultTax:null,activeTab:"shipping",processSuccess:!1,orderId:null,loading:{list:!0,deliver:!1,cancel:!1,cancelWithStock:!1,rtn:!1,rtnWithStock:!1,reload:!1,addCredit:!1,addDebit:!1},showCreditModal:!1,showDebitModal:!1,addCredit:{showModal:!1,data:{amount:null,name:null,tax:null,taxId:null}},addDebit:{showModal:!1,data:{amount:null,name:null,tax:null,taxId:null}}}),computed:{columns(){return[{property:"quantity",label:this.$t("ratepay.orderManagement.table.count"),allowResize:!1,align:"center"},{property:"name",label:this.$t("ratepay.orderManagement.table.articleName"),allowResize:!1},{property:"ordered",label:this.$t("ratepay.orderManagement.table.ordered"),allowResize:!1,align:"center"},{property:"position.delivered",label:this.$t("ratepay.orderManagement.table.delivered"),allowResize:!1,align:"center"},{property:"position.canceled",label:this.$t("ratepay.orderManagement.table.canceled"),allowResize:!1,align:"center"},{property:"position.returned",label:this.$t("ratepay.orderManagement.table.returned"),allowResize:!1,align:"center"},{property:"unitPrice",label:this.$t("ratepay.orderManagement.table.unitPrice"),allowResize:!1,align:"right"},{property:"totalPrice",label:this.$t("ratepay.orderManagement.table.totalPrice"),allowResize:!1,align:"right"}]},taxRepository(){return this.repositoryFactory.create("tax")}},created(){this.loadList(),this.loadTaxes()},methods:{loadList(){return this.loading.list=!0,this.orderManagementService.load(this.order.id).then(e=>new Promise((t,n)=>{e.data&&(this.items=Object.values(e.data),this.items.map(e=>{e.processDeliveryCancel=e.position.maxDelivery.toString(),e.processReturn=e.position.maxReturn.toString()}),this.loading.list=!1),t()}))},loadTaxes(){return this.taxRepository.search(new p(1,500),Shopware.Context.api).then(e=>{this.taxes=e,this.defaultTax=e[0],this.initCredit(),this.initDebit()})},initCredit(){this.addCredit.data.amount=[{net:null,gross:null,currencyId:this.order.currencyId,linked:!0}],this.addCredit.data.name=this.$t("ratepay.orderManagement.modal.addCredit.defaultValue.name"),this.addCredit.data.tax=this.defaultTax,this.addCredit.data.taxId=this.defaultTax.id},initDebit(){this.addDebit.data.amount=[{net:null,gross:null,currencyId:this.order.currencyId,linked:!0}],this.addDebit.data.name=this.$t("ratepay.orderManagement.modal.addDebit.defaultValue.name"),this.addDebit.data.tax=this.defaultTax,this.addDebit.data.taxId=this.defaultTax.id},updateCreditTax(){this.addCredit.data.taxId&&(this.addCredit.data.tax=this.taxes.get(this.addCredit.data.taxId))},updateDebitTax(){this.addDebit.data.taxId&&(this.addDebit.data.tax=this.taxes.get(this.addDebit.data.taxId))},onClickButtonDeliver(){this.loading.deliver=!0,this.orderManagementService.doAction("deliver",this.order.id,this.getProcessShippingCancelData()).then(e=>{this.showMessage(e,"deliver"),this.loadList().then(()=>{this.loading.deliver=!1,this.$emit("ratepayActionTriggered")})}).catch(e=>{this.loading.deliver=!1,this.showMessage(e,"deliver")})},onClickButtonCancel(e){!1===e?this.loading.cancel=!0:this.loading.cancelWithStock=!0,this.orderManagementService.doAction("cancel",this.order.id,this.getProcessShippingCancelData(),e).then(e=>{this.showMessage(e,"cancel"),this.loadList().then(()=>{this.loading.cancel=!1,this.loading.cancelWithStock=!1,this.$emit("ratepayActionTriggered")})}).catch(e=>{this.loading.cancel=!1,this.loading.cancelWithStock=!1,this.showMessage(e,"cancel")})},onClickButtonReturn(e){!1===e?this.loading.rtn=!0:this.loading.rtnWithStock=!0,this.orderManagementService.doAction("return",this.order.id,this.getProcessReturnData(),e).then(e=>{this.showMessage(e,"return"),this.loadList().then(()=>{this.loading.rtn=!1,this.loading.rtnWithStock=!1,this.$emit("ratepayActionTriggered")})}).catch(e=>{this.loading.rtn=!1,this.loading.rtnWithStock=!1,this.showMessage(e,"return")})},onClickResetSelections(){this.loading.reload=!0,this.loadList().then(()=>{this.loading.reload=!1,this.items.forEach((function(e,t){e.processDeliveryCancel=0,e.processReturn=0})),this.$emit("ratepayActionTriggered")})},onClickButtonAddDebit(){this.loading.addDebit=!0,this.validateCreditDebit(this.addDebit.data)?this.orderManagementService.addItem(this.order.id,this.addDebit.data.name,this.addDebit.data.amount[0].gross,this.addDebit.data.tax.taxRate).then(e=>{this.showMessage(e,"addDebit"),this.loadList().then(()=>{this.onCloseDebitModal(),this.loading.addDebit=!1,this.$emit("ratepayActionTriggered"),this.initDebit()})}).catch(e=>{this.loading.addDebit=!1,this.showMessage(e,"addDebit")}):this.loading.addDebit=!1},onClickButtonAddCredit(){this.loading.addCredit=!0,this.validateCreditDebit(this.addCredit.data)?this.orderManagementService.addItem(this.order.id,this.addCredit.data.name,-1*this.addCredit.data.amount[0].gross,this.addCredit.data.tax.taxRate).then(e=>{this.showMessage(e,"addCredit"),this.loadList().then(()=>{this.onCloseCreditModal(),this.loading.addCredit=!1,this.$emit("ratepayActionTriggered"),this.initCredit()})}).catch(e=>{this.loading.addCredit=!1,this.showMessage(e,"addCredit")}):this.loading.addCredit=!1},validateCreditDebit(e){return e.taxId?e.name?e.amount[0]?!(e.amount[0].gross<=0)||(this.showMessage({success:!1,message:this.$tc("ratepay.orderManagement.messages.creditDebitValidation.amountTooLow")}),!1):(this.showMessage({success:!1,message:this.$tc("ratepay.orderManagement.messages.creditDebitValidation.missingAmount")}),!1):(this.showMessage({success:!1,message:this.$tc("ratepay.orderManagement.messages.creditDebitValidation.missingName")}),!1):(this.showMessage({success:!1,message:this.$tc("ratepay.orderManagement.messages.creditDebitValidation.missingTax")}),!1)},showMessage(e,t){e.success?this.createNotificationSuccess({title:this.$tc("ratepay.orderManagement.messages.successTitle"),message:this.$tc("ratepay.orderManagement.messages."+t+".success")}):this.createNotificationError({title:this.$tc("ratepay.orderManagement.messages.failedTitle"),message:e.message})},getProcessShippingCancelData(){let e=[];return this.items.forEach((function(t,n){void 0!==t.processDeliveryCancel&&t.processDeliveryCancel>0&&e.push({id:t.id,quantity:t.processDeliveryCancel})})),e},getProcessReturnData(){let e=[];return this.items.forEach((function(t,n){void 0!==t.processReturn&&t.processReturn>0&&e.push({id:t.id,quantity:t.processReturn})})),e},onShowDebitModal(){this.addDebit.showModal=!0},onCloseDebitModal(){this.addDebit.showModal=!1},onShowCreditModal(){this.addCredit.showModal=!0},onCloseCreditModal(){this.addCredit.showModal=!1}}});var u=n("etsL"),g=n.n(u),h=(n("4oLC"),n("qjmZ")),f=n.n(h),m=n("WAGO"),b=n.n(m),y=n("JuGi"),v=n.n(y);n("NzeD");const{Component:w}=Shopware,{Criteria:C}=Shopware.Data;w.register("ratepay-api-log-list",{template:g.a,inject:["repositoryFactory"],data:()=>({repository:null,entities:null,modalItem:null,searchTerm:null,initialLogId:null}),metaInfo(){return{title:this.$t("ratepay.apiLog.componentTitle")}},computed:{columns(){return[{property:"createdAt",dataIndex:"createdAt",label:this.$t("ratepay.apiLog.global.labels.createdAt"),allowResize:!0},{property:"operation",dataIndex:"operation",label:this.$t("ratepay.apiLog.global.labels.operation"),allowResize:!0},{property:"subOperation",dataIndex:"subOperation",label:this.$t("ratepay.apiLog.global.labels.subOperation"),allowResize:!0},{property:"result",dataIndex:"result",label:this.$t("ratepay.apiLog.global.labels.result"),allowResize:!0},{property:"additionalData.transactionId",dataIndex:"transactionId",label:this.$t("ratepay.apiLog.global.labels.transactionId"),allowResize:!0},{property:"additionalData.orderNumber",dataIndex:"orderNumber",label:this.$t("ratepay.apiLog.global.labels.orderNumber"),allowResize:!0,visible:!1},{property:"additionalData.firstName",dataIndex:"firstName",label:this.$t("ratepay.apiLog.global.labels.firstName"),allowResize:!0,visible:!1},{property:"additionalData.lastName",dataIndex:"lastName",label:this.$t("ratepay.apiLog.global.labels.lastName"),allowResize:!0,visible:!1},{property:"response",dataIndex:"response",label:this.$t("ratepay.apiLog.global.labels.viewLog"),allowResize:!0}]}},created(){this.searchTerm=void 0!==this.$route.query.term?this.$route.query.term.trim():"",this.initalLogId=void 0!==this.$route.query.logId?this.$route.query.logId.trim():null,this.repository=this.repositoryFactory.create("ratepay_api_log"),b.a.registerLanguage("xml",v.a),b.a.configure({useBR:!0}),this.loadData()},watch:{$route(){this.searchTerm=void 0!==this.$route.query.term?this.$route.query.term.trim():"",this.initalLogId=void 0!==this.$route.query.logId?this.$route.query.logId.trim():null,this.loadData()}},methods:{formatXml:e=>b.a.highlight("xml",f()(e)).value,loadData(){let e=new C;this.searchTerm.length>0&&e.addFilter(C.contains("additionalData",this.searchTerm)),e.addSorting(C.sort("createdAt","DESC")),this.repository.search(e,Shopware.Context.api).then(e=>{this.entities=e,this.initalLogId&&this.entities.has(this.initalLogId)&&(this.modalItem=e.get(this.initalLogId))})},onSearch(e){this.initalLogId=null,this.searchTerm=e.trim(),this.loadData()}}});var x=n("+Qdk"),k=n.n(x);n("0eyU");const{Application:S,Component:_}=Shopware;_.override("sw-search-bar-item",{template:k.a}),S.addServiceProviderDecorator("searchTypeService",e=>(e.upsertType("ratepay_api_log",{entityName:"ratepay_api_log",entityService:"ratepayApiLogService",placeholderSnippet:"global.placeholderSearchBar.ratepay_api_log",listingRoute:"ratepay.api.log.list"}),e));var D=n("yVfu"),M=n("UVvk");const{Module:R}=Shopware;R.register("ratepay-api-log",{type:"plugin",name:"api-log",title:"ratepay.apiLog.componentTitle",icon:"default-badge-warning",snippets:{"de-DE":D,"en-GB":M},routes:{list:{component:"ratepay-api-log-list",path:"list",meta:{parentPath:"sw.settings.index"}}},settingsItem:[{to:"ratepay.api.log.list",group:"plugins",icon:"default-badge-warning"}]});var E=n("BZ2C"),O=n.n(E);const{Component:I}=Shopware,{Criteria:A}=Shopware.Data;I.register("ratepay-profile-config-list",{template:O.a,inject:["repositoryFactory"],metaInfo(){return{title:this.$t("ratepay.profileConfig.componentTitle")}},data:()=>({repository:null,entities:null}),computed:{columns(){return[{property:"profileId",dataIndex:"profileId",label:this.$t("ratepay.profileConfig.global.labels.profile_id"),routerLink:"ratepay.profile.config.detail",allowResize:!0},{property:"salesChannel.name",dataIndex:"salesChannel.name",label:this.$t("ratepay.profileConfig.global.labels.sales_channel"),allowResize:!0},{property:"status",dataIndex:"status",label:this.$t("ratepay.profileConfig.global.labels.status"),allowResize:!0}]}},created(){this.repository=this.repositoryFactory.create("ratepay_profile_config");let e=new A;e.addAssociation("salesChannel"),this.repository.search(e,Shopware.Context.api).then(e=>{this.entities=e})}});var N=n("gi2h"),L=n.n(N);const{Component:$,Mixin:B}=Shopware,{Criteria:T}=Shopware.Data;$.register("ratepay-profile-config-detail",{template:L.a,inject:{repositoryFactory:"repositoryFactory",profileConfigApiService:"ratepay-profile-config"},mixins:[B.getByName("notification")],metaInfo(){return{title:this.$createTitle()}},data(){return{entity:null,isLoading:!1,processSuccess:!1,repository:null,disabledReloadButton:null===this.entity,currentTab:"general"}},created(){this.repository=this.repositoryFactory.create("ratepay_profile_config");let e=this.loadEntity();this.$route.params.reloadConfig&&e.then(()=>{this.onClickReloadConfig()})},methods:{lockReloadButton(){this.disabledReloadButton=!0},loadEntity(){let e=new T;return e.addAssociation("paymentMethodConfigs.paymentMethod"),e.addAssociation("paymentMethodConfigs.installmentConfig"),e.setIds([this.$route.params.id]),this.repository.search(e,Shopware.Context.api).then(e=>new Promise((t,n)=>{this.entity=e.first(),t(this.entity)}))},onClickSave(){this.isLoading=!0,this.repository.save(this.entity,Shopware.Context.api).then(()=>{this.loadEntity(),this.onClickReloadConfig(),this.createNotificationSuccess({title:this.$tc("ratepay.profileConfig.messages.save.success"),message:this.$tc("ratepay.profileConfig.messages.save.success")}),this.isLoading=!1,this.processSuccess=!0}).catch(e=>{this.isLoading=!1,this.createNotificationError({title:this.$t("ratepay.profileConfig.messages.save.error.title"),message:e})})},saveFinish(){this.disabledReloadButton=!1,this.processSuccess=!1},onClickReloadConfig(){return this.profileConfigApiService.reloadConfig(this.entity.id).then(e=>{this.loadEntity();for(let[t,n]of Object.entries(e.success))this.createNotificationSuccess({title:t,message:this.$tc("ratepay.profileConfig.messages.reload.success")});for(let[t,n]of Object.entries(e.error))this.createNotificationError({title:t,message:n});return this.$forceUpdate(),new Promise((e,t)=>{e()})})},switchTab(e){this.currentTab=e}}});n("CRlb");var P=n("nLco"),j=n("kUrN");const{Module:z}=Shopware;z.register("ratepay-profile-config",{type:"plugin",name:"profile-config",title:"ratepay.profileConfig.componentTitle",icon:"default-action-settings",snippets:{"de-DE":P,"en-GB":j},routes:{list:{component:"ratepay-profile-config-list",path:"list",meta:{parentPath:"sw.settings.index"}},detail:{component:"ratepay-profile-config-detail",path:"detail/:id",meta:{parentPath:"ratepay.profile.config.list"}},create:{component:"ratepay-profile-config-create",path:"create",meta:{parentPath:"ratepay.profile.config.list"}}},settingsItem:[{to:"ratepay.profile.config.list",group:"plugins",icon:"default-action-settings"}]});var H=n("SwLI");class q extends H.default{constructor(e,t){super(e,t,"ratepay/order-management"),this.httpClient=e,this.loginService=t,this.name="ratepayOrderManagementService"}load(e){return this.httpClient.get(this.getApiBasePath()+"/load/"+e,{headers:this.getBasicHeaders()}).then(e=>e.data)}doAction(e,t,n,a){return this.httpClient.post(this.getApiBasePath()+"/"+e+"/"+t,{items:n,updateStock:"boolean"==typeof a?a:null},{headers:this.getBasicHeaders()}).then(e=>e.data)}addItem(e,t,n,a){return this.httpClient.post(this.getApiBasePath()+"/addItem/"+e,{name:t,grossAmount:n,taxRate:a},{headers:this.getBasicHeaders()}).then(e=>e.data)}}Shopware.Application.addServiceProvider("ratepay-order-management-service",e=>{const t=Shopware.Application.getContainer("init");return new q(t.httpClient,e.loginService)});class F extends H.default{constructor(e,t){super(e,t,"ratepay/profile-configuration"),this.httpClient=e,this.loginService=t,this.name="ratepayConfigService"}reloadConfig(e){return this.httpClient.post(this.getApiBasePath()+"/reload-config/",{id:e},{headers:this.getBasicHeaders()}).then(e=>e.data)}}Shopware.Application.addServiceProvider("ratepay-profile-config",e=>{const t=Shopware.Application.getContainer("init");return new F(t.httpClient,e.loginService)});var W=n("HpLX"),G=n.n(W);const{Component:Z}=Shopware;Z.override("sw-order-detail-base",{template:G.a,methods:{onRatepayActionTriggered(){this.$refs.ratepayOrderHistory.loadOrderHistory(),this.reloadOrder()},reloadOrder(){return this.orderRepository.get(this.orderId,this.versionContext,this.orderCriteria).then(e=>(this.order=e,Promise.resolve())).catch(()=>Promise.reject())}}});var U=n("GkLX"),V=n.n(U);const{Component:X}=Shopware;X.override("sw-order-line-items-grid",{template:V.a,data:()=>({showLineItemDeleteRestrictionModal:!1}),methods:{onDeleteSelectedItems(){this.order.extensions.ratepayData?this.showLineItemDeleteRestrictionModal=!0:this.$super("onDeleteSelectedItems")},onCloseLineItemDeleteRestrictionModal(){this.showLineItemDeleteRestrictionModal=!1}}});var J=n("FQSF"),K=n.n(J);const{Component:Q}=Shopware;Q.override("sw-order-user-card",{template:K.a});var Y=n("N7jZ"),ee=n.n(Y);const{Component:te}=Shopware;te.override("sw-order-list",{template:ee.a})},kUrN:function(e){e.exports=JSON.parse('{"ratepay":{"profileConfig":{"componentTitle":"Ratepay Profile Configuration","global":{"labels":{"profile_id":"Profile ID","security_code":"Security Code","sales_channel":"Sales Channel","sandbox":"Test-Mode","backend":"For admin orders","status":"Status","active":"Active","inactive":"Inactive"}},"page":{"list":{"createButton":"Add Profil"},"detail":{"cancelButtonText":"Cancel","saveButtonText":"Save","reloadConfig":"Reload config"},"tabs":{"general":{"title":"General","table":{"label":{"countryCodeBilling":"allowed countries (billing address)","countryCodeDelivery":"allowed countries (delivery address)","currency":"currency","errorDefault":"default error message","updatedAt":"last update"}}},"invoice":{"title":"Invoice"},"prepayment":{"title":"Prepayment"},"debit":{"title":"Debit"},"installment":{"title":"Instalment"},"installment_zero_percent":{"title":"0% Financing"}},"paymentConfig":{"table":{"label":{"allowB2b":"allow B2B","limitMin":"min. amount","limitMax":"max. amount","limitMaxB2b":"max. amount (B2B)","allowDifferentAddresses":"allow different addresses","installmentHeading":"Installment","installment":{"allowedMonths":"available months","isBankTransferAllowed":"is bank transfer allowed","isDebitAllowed":"is debit allowed","rateMin":"min. monthly rate"}}}}},"messages":{"save":{"success":"The profile configuration has been saved","error":{"title":"Error while saving the profile configuration","message":"Please verify all input fields.","selectSalesChannel":"Please select a sales channel."}},"reload":{"success":"The profile configuration has been reloaded","error":"Error while reloading the profile configuration"}}}}}')},lO2t:function(e,t,n){"use strict";n.d(t,"b",(function(){return _}));var a=n("GoyQ"),i=n.n(a),r=n("YO3V"),o=n.n(r),s=n("E+oP"),l=n.n(s),c=n("wAXd"),d=n.n(c),p=n("Z0cm"),u=n.n(p),g=n("lSCD"),h=n.n(g),f=n("YiAA"),m=n.n(f),b=n("4qC0"),y=n.n(b),v=n("Znm+"),w=n.n(v),C=n("Y+p1"),x=n.n(C),k=n("UB5X"),S=n.n(k);function _(e){return void 0===e}t.a={isObject:i.a,isPlainObject:o.a,isEmpty:l.a,isRegExp:d.a,isArray:u.a,isFunction:h.a,isDate:m.a,isString:y.a,isBoolean:w.a,isEqual:x.a,isNumber:S.a,isUndefined:_}},lYO9:function(e,t,n){"use strict";n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return C})),n.d(t,"a",(function(){return x})),n.d(t,"d",(function(){return k})),n.d(t,"k",(function(){return S})),n.d(t,"j",(function(){return _})),n.d(t,"g",(function(){return D})),n.d(t,"b",(function(){return M})),n.d(t,"c",(function(){return R})),n.d(t,"f",(function(){return E})),n.d(t,"e",(function(){return O}));var a=n("lSNA"),i=n.n(a),r=n("QkVN"),o=n.n(r),s=n("JBE3"),l=n.n(s),c=n("BkRI"),d=n.n(c),p=n("mwIZ"),u=n.n(p),g=n("D1y2"),h=n.n(g),f=n("JZM8"),m=n.n(f),b=n("lO2t");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o.a,o.a,d.a,u.a,h.a,m.a;var w=o.a,C=l.a,x=d.a,k=u.a,S=h.a,_=m.a;function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.parse(JSON.stringify(e))}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return C(e,t,(function(e,t){if(Array.isArray(e))return e.concat(t)}))}function E(e,t){return e===t?{}:b.a.isObject(e)&&b.a.isObject(t)?b.a.isDate(e)||b.a.isDate(t)?e.valueOf()===t.valueOf()?{}:t:Object.keys(t).reduce((function(n,a){if(!D(e,a))return v(v({},n),{},i()({},a,t[a]));if(b.a.isArray(t[a])){var r=O(e[a],t[a]);return Object.keys(r).length>0?v(v({},n),{},i()({},a,t[a])):n}if(b.a.isObject(t[a])){var o=E(e[a],t[a]);return!b.a.isObject(o)||Object.keys(o).length>0?v(v({},n),{},i()({},a,o)):n}return e[a]!==t[a]?v(v({},n),{},i()({},a,t[a])):n}),{}):t}function O(e,t){if(e===t)return[];if(!b.a.isArray(e)||!b.a.isArray(t))return t;if(e.length<=0&&t.length<=0)return[];if(e.length!==t.length)return t;if(!b.a.isObject(t[0]))return t.filter((function(t){return!e.includes(t)}));var n=[];return t.forEach((function(a,i){var r=E(e[i],t[i]);Object.keys(r).length>0&&n.push(t[i])})),n}},"m+08":function(e,t,n){var a=n("6+DK");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,n("SZ7m").default)("090b0dea",a,!0,{})},nLco:function(e){e.exports=JSON.parse('{"ratepay":{"profileConfig":{"componentTitle":"Ratepay Profil Konfiguration","global":{"labels":{"profile_id":"Profile ID","security_code":"Sicherheitsschlüssel","sales_channel":"Sales Channel","sandbox":"Testmodus","backend":"Für Adminbestellungen","status":"Status","active":"Aktiv","inactive":"Inaktiv"}},"page":{"list":{"createButton":"Profil hinzufügen"},"detail":{"cancelButtonText":"Abbrechen","saveButtonText":"Speichern","reloadConfig":"Konfiguration neuladen"},"tabs":{"general":{"title":"Allgemein","table":{"label":{"countryCodeBilling":"erlaubte Länder (Rechnungsadresse)","countryCodeDelivery":"erlaubte Länder (Lieferadresse)","currency":"Währung","errorDefault":"Standardfehlermeldung","updatedAt":"Zuletzt aktualisiert"}}},"invoice":{"title":"Rechnung"},"prepayment":{"title":"Vorkasse"},"debit":{"title":"Lastschrift"},"installment":{"title":"Ratenzahlung"},"installment_zero_percent":{"title":"0% Finanzierung"}},"paymentConfig":{"table":{"label":{"allowB2b":"Erlaube B2B","limitMin":"Mindestbestellwert","limitMax":"Maximalbestellwert","limitMaxB2b":"Maximalbestellwert (B2B)","allowDifferentAddresses":"Erlaube unterschiedliche Adressen","installmentHeading":"Ratenzahlung","installment":{"allowedMonths":"Verfügbare Monate","isBankTransferAllowed":"Erlaube Überweisung","isDebitAllowed":"Erlaube Lastschrift","rateMin":"min. monatliche Rate"}}}}},"messages":{"save":{"success":"Die Profile-Konfiguration wurde erfolgreich gespeichert","error":{"title":"Beim Speichern der Profile-Konfiguration ist ein Fehler aufgetreten","message":"Bitte prüfen Sie alle Eingabefelder.","selectSalesChannel":"Bitte wählen Sie einen Sales Channel."}},"reload":{"success":"Die Profile-Konfiguration wurde erfolgreich neu geladen","error":"Beim Neuladen der Profile-Konfiguration ist ein Fehler aufgetreten"}}}}}')},qjmZ:function(e,t,n){function a(e){let t;for(e.content+=e.options.lineSeparator,t=0;t<e.level;t++)e.content+=e.options.indentation}function i(e,t){e.content+=t}function r(e,t,n,l){if("string"==typeof e.content)!function(e,t,n){n||(e.content=e.content.trim());e.content.length>0&&(!n&&t.content.length>0&&a(t),i(t,e.content))}(e,t,n);else if("Element"===e.type)!function(e,t,n,s){!n&&t.content.length>0&&a(t);if(i(t,"<"+e.name),o(t,e.attributes),null===e.children){const e=s.whiteSpaceAtEndOfSelfclosingTag?" />":"/>";i(t,e)}else if(0===e.children.length)i(t,"></"+e.name+">");else{i(t,">"),t.level++;let o="preserve"===e.attributes["xml:space"];if(!o&&t.options.collapseContent){e.children.some((function(e){return"Text"===e.type&&""!==e.content.trim()}))&&(o=!0)}e.children.forEach((function(e){r(e,t,n||o,s)})),t.level--,n||o||a(t),i(t,"</"+e.name+">")}}(e,t,n,l);else{if("ProcessingInstruction"!==e.type)throw new Error("Unknown node type: "+e.type);s(e,t)}}function o(e,t){Object.keys(t).forEach((function(n){i(e," "+n+'="'+t[n]+'"')}))}function s(e,t){t.content.length>0&&a(t),i(t,"<?"+e.name),o(t,e.attributes),i(t,"?>")}e.exports=function(e,t={}){(t=t||{}).indentation=t.indentation||"    ",t.collapseContent=!0===t.collapseContent,t.lineSeparator=t.lineSeparator||"\r\n",t.whiteSpaceAtEndOfSelfclosingTag=!!t.whiteSpaceAtEndOfSelfclosingTag;const a=n("9O2Z")(e,{filter:t.filter}),i={content:"",level:0,options:t};return a.declaration&&s(a.declaration,i),a.children.forEach((function(e){r(e,i,!1,t)})),i.content}},yVfu:function(e){e.exports=JSON.parse('{"global":{"entities":{"ratepay_api_log":"Ratepay API-Logs"},"placeholderSearchBar":{"ratepay_api_log":"Ratepay API-Logs durchsuchen"}},"ratepay":{"apiLog":{"componentTitle":"Ratepay API-Logs","page":{"detail":{"cancelButtonText":"Zurück"}},"global":{"labels":{"id":"Id","operation":"Operation","subOperation":"Suboperation","result":"Ergebnis","transactionId":"Transaktions ID","firstName":"Vorname","lastName":"Nachname","createdAt":"Erstellt am","request":"Anfrage","response":"Antwort","viewLog":"Anfrage / Antwort","orderNumber":"Bestellnummer"}},"modal":{"openTitle":"Anfrage / Antwort anzeigen","request":{"heading":"Anfrage"},"response":{"heading":"Antwort"}}}}}')}},[["iXo7","runtime","vendors-node"]]]);